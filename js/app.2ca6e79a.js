(function(){var e={758:function(e,t,s){"use strict";e.exports=s.p+"img/Magic Dice Logo-Banner-Black.87a9b1e7.png"},936:function(e,t,s){"use strict";e.exports=s.p+"img/Magic Dice Logo-Title-Black.6dfd45c8.png"},1051:function(e,t,s){"use strict";e.exports=s.p+"img/3.746947be.jpg"},1234:function(){},1236:function(e,t,s){"use strict";e.exports=s.p+"img/magicart.362606bb.jpg"},1382:function(e,t,s){var a={"./Magic-Dice-Logo-Banner-Transparent.png":7649,"./MagicLogo.png":1914,"./Magic_Dice_Logo_1.45.png":4664,"./bg/1.jpg":9337,"./bg/2.jpg":9742,"./bg/3.jpg":1051,"./bg/4.jpg":3112,"./bg/5.jpg":7077,"./bg/bg.mp4":7459,"./bg/cyberpunk_2.png":1772,"./bg/cyberpunk_3.png":4037,"./bg/cyberpunk_4.jpg":7678,"./cards/1Z6lapAA.jpeg":6463,"./cards/anton-nazarenko-ciri-journey-kv-wip22.jpg":1610,"./cards/cyberpunk-dice.png":7829,"./cards/doragi-2.jpg":2561,"./cards/tavern.png":2118,"./e45f4a3274db844be192cd1ef0105a0c.jpg":7597,"./elfmagic.jpeg":5497,"./logo/Magic Dice Logo-Banner-Black.png":758,"./logo/Magic Dice Logo-Banner-Transparent.png":4089,"./logo/Magic Dice Logo-Full-Black.png":5631,"./logo/Magic Dice Logo-Full-Transparent.png":5864,"./logo/Magic Dice Logo-Title-Black.png":936,"./logo/Magic Dice Logo-Title-Transparent.png":4419,"./magicart.jpg":1236,"./mdtwicelogo.png":2918,"./monsters.jpg":9721,"./vex_fullbody2.jpg":5237};function l(e){var t=o(e);return s(t)}function o(e){if(!s.o(a,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return a[e]}l.keys=function(){return Object.keys(a)},l.resolve=o,e.exports=l,l.id=1382},1610:function(e,t,s){"use strict";e.exports=s.p+"img/anton-nazarenko-ciri-journey-kv-wip22.8d0957fc.jpg"},1772:function(e,t,s){"use strict";e.exports=s.p+"img/cyberpunk_2.6d9f5c5e.png"},1788:function(e,t,s){"use strict";var a=s(5130),l=s(144),o=s(6768);function i(e,t){const s=(0,o.g2)("router-view");return(0,o.uX)(),(0,o.Wv)(s)}var r=s(1241);const n={},c=(0,r.A)(n,[["render",i]]);var d=c,p=s(1387);const m={class:"home container text-center"},u={class:"position-absolute top-50 start-50 translate-middle"},h=["src"],b={class:"list-group mt-2"};var g={__name:"HomeView",setup(e){return(0,o.sV)((()=>{document.documentElement.removeAttribute("data-theme")})),(e,t)=>{const a=(0,o.g2)("router-link");return(0,o.uX)(),(0,o.CE)("div",m,[(0,o.Lk)("div",u,[(0,o.Lk)("img",{style:{width:"10rem"},src:s(2918)},null,8,h),t[3]||(t[3]=(0,o.Lk)("h1",{class:"display-1 mb-0 col text-nowrap"},"Magic Dice",-1)),t[4]||(t[4]=(0,o.Lk)("p",{class:"lead text-end mb-0"},"2nd Edition",-1)),(0,o.Lk)("div",b,[(0,o.bF)(a,{to:"/create",class:"list-group-item list-group-item-action"},{default:(0,o.k6)((()=>t[0]||(t[0]=[(0,o.eW)("Create Character")]))),_:1}),(0,o.bF)(a,{to:"/load",class:"list-group-item list-group-item-action"},{default:(0,o.k6)((()=>t[1]||(t[1]=[(0,o.eW)("Load Character")]))),_:1}),t[2]||(t[2]=(0,o.Lk)("a",{href:"#",class:"list-group-item list-group-item-action"},"About",-1))])])])}}};const v=g;var f=v;const y={class:"container text-center"},k={class:"text-start mt-5"},L={class:"row mt-3 mb-5"},x={class:"col text-start"},w={style:{},class:"mx-auto text-start"},_={class:"row justify-content-start"},$={class:"col-6 col-sm-4 g-2"},C={key:0};function S(e,t,s,a,l,i){const r=(0,o.g2)("router-link"),n=(0,o.g2)("CharacterCard");return(0,o.uX)(),(0,o.CE)("div",y,[(0,o.Lk)("div",k,[(0,o.bF)(r,{to:"/",class:"text-decoration-none"},{default:(0,o.k6)((()=>t[1]||(t[1]=[(0,o.Lk)("i",{class:"bi bi-arrow-left"},null,-1),(0,o.eW)(" Back ")]))),_:1})]),(0,o.Lk)("div",L,[t[7]||(t[7]=(0,o.Lk)("div",{class:"col-xl-5 text-start"},[(0,o.Lk)("h1",{class:"mb-2 py-2 display-4 text-uppercase fst-italic"},"Load your Character"),(0,o.Lk)("p",{class:"lead col-lg-10 mb-5"},"All stories begin, only some end. But tonight â€” one continues.")],-1)),(0,o.Lk)("div",x,[t[4]||(t[4]=(0,o.Lk)("h2",{class:"mb-3 py-2"},"Upload Character",-1)),(0,o.Lk)("div",w,[t[2]||(t[2]=(0,o.Lk)("label",{for:"formFileLg",class:"form-label"},"Upload a character file (.json format)",-1)),(0,o.Lk)("input",{class:"form-control form-control-lg",id:"formFileLg",type:"file",onChange:t[0]||(t[0]=(...e)=>i.handleFileUpload&&i.handleFileUpload(...e))},null,32)]),t[5]||(t[5]=(0,o.Lk)("hr",{class:"mb-4"},null,-1)),t[6]||(t[6]=(0,o.Lk)("h2",{class:"mb-2 mt-0"},"List of Characters",-1)),(0,o.Lk)("div",_,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(l.characters,((e,t)=>((0,o.uX)(),(0,o.CE)("div",$,[(0,o.bF)(n,{class:"",char:e,link:t},null,8,["char","link"])])))),256)),0===Object.keys(l.characters).length?((0,o.uX)(),(0,o.CE)("div",C,t[3]||(t[3]=[(0,o.Lk)("p",{class:"lead mt-2"},"no characters... yet.",-1)]))):(0,o.Q3)("",!0)])])])])}var P=s(4232);const E={class:"card overflow-hidden text-center border-0 shadow"},A={class:"card-body p-2 px-3 d-flex justify-content-between align-items-center card-bg"},F={class:"text-start"},D={class:"card-title fs-5 m-0"},M={class:"card-text text-muted mb-0",style:{"font-size":"14px"}},N={class:"dropdown dropcenter"},I={class:"dropdown-menu"};function H(e,t,s,a,l,i){const r=(0,o.g2)("router-link");return(0,o.uX)(),(0,o.CE)("div",E,[(0,o.Lk)("div",{class:"bg-black",style:(0,P.Tr)({"background-image":"url("+s.char.renderData.avatar+")",backgroundPosition:"center top",backgroundSize:"cover"})},[t[3]||(t[3]=(0,o.Lk)("div",{style:{height:"10rem"},class:""},null,-1)),(0,o.Lk)("div",A,[(0,o.Lk)("div",F,[(0,o.bF)(r,{class:"text-decoration-none",to:"/player/"+s.link},{default:(0,o.k6)((()=>[(0,o.Lk)("h4",D,(0,P.v_)(s.char.name),1)])),_:1},8,["to"]),(0,o.Lk)("p",M,"Level "+(0,P.v_)(s.char.lvl)+" "+(0,P.v_)(s.char.classData.name),1)]),(0,o.Lk)("div",N,[t[2]||(t[2]=(0,o.Lk)("button",{class:"btn p-0","data-bs-toggle":"dropdown","aria-expanded":"false"},[(0,o.Lk)("i",{class:"bi bi-three-dots"})],-1)),(0,o.Lk)("ul",I,[(0,o.Lk)("li",null,[(0,o.bF)(r,{class:"dropdown-item",to:"/load",onClick:t[0]||(t[0]=()=>{delete e.$parent.characters[s.link],e.$md.Load.deleteCharacter(s.link)})},{default:(0,o.k6)((()=>t[1]||(t[1]=[(0,o.eW)("Remove Character")]))),_:1})])])])])],4)])}var j={name:"CharacterCard",props:{char:Object,link:String}};const U=(0,r.A)(j,[["render",H],["__scopeId","data-v-02c3d6ae"]]);var O=U;function B(){return localStorage.getItem("charList")?JSON.parse(localStorage.getItem("charList")):{}}var T={components:{CharacterCard:O},data(){return{characters:B()}},methods:{handleFileUpload(e){const t=e.target.files[0];t&&t.name.endsWith(".json")?t.text().then((e=>{this.$md.magicHandler.managed_players=[],this.$md.Load.restoreFromObj(JSON.parse(e)),this.$md.magicHandler.last.self,this.$md.savePlayer(),this.characters=B()})).catch((e=>{})):console.error("Please select a JSON file.")}}};const J=(0,r.A)(T,[["render",S]]);var X=J;const V={key:0,class:"container"},R={class:"row"},q={class:"col-md-3 mb-3"},W={class:"text-center"},Y={class:"col"},G={class:"row"},z={class:"row pt-2"},K={class:"col-lg-7 mb-3"},Q={class:"text-end"},Z={class:"dropdown dropcenter"},ee={class:"dropdown-menu"},te={key:0},se={class:"col-lg"},ae={key:1,class:"container"};function le(e,t,s,a,l,i){const r=(0,o.g2)("NavBar"),n=(0,o.g2)("Avatar"),c=(0,o.g2)("PlayerBio"),d=(0,o.g2)("Banner"),p=(0,o.g2)("HealthBar"),m=(0,o.g2)("AbilityScores"),u=(0,o.g2)("SpellScores"),h=(0,o.g2)("EditScores"),b=(0,o.g2)("DiceRoller"),g=(0,o.g2)("Stats"),v=(0,o.g2)("MobileNavBar");return(0,o.uX)(),(0,o.CE)(o.FK,null,[(0,o.bF)(r),l.ply?((0,o.uX)(),(0,o.CE)("div",V,[(0,o.Lk)("div",R,[(0,o.Lk)("div",q,[(0,o.Lk)("div",W,[(0,o.bF)(n)]),(0,o.bF)(c)]),(0,o.Lk)("div",Y,[(0,o.Lk)("div",G,[(0,o.bF)(d)]),(0,o.Lk)("div",z,[(0,o.Lk)("div",K,[(0,o.Lk)("div",Q,[(0,o.Lk)("div",Z,[t[1]||(t[1]=(0,o.Lk)("i",{class:"bi bi-three-dots text-body-secondary","data-bs-toggle":"dropdown"},null,-1)),(0,o.Lk)("ul",ee,[(0,o.Lk)("li",{class:"dropdown-item",onClick:t[0]||(t[0]=e=>l.editScores=!0)}," Edit Information ")])])]),l.editScores?(0,o.Q3)("",!0):((0,o.uX)(),(0,o.CE)("div",te,[(0,o.bF)(p,{class:"mb-3"}),(0,o.bF)(m),e.$md.ply.magic.spcMod?((0,o.uX)(),(0,o.Wv)(u,{key:0,class:"mb-3 mx-2"})):(0,o.Q3)("",!0)])),l.editScores?((0,o.uX)(),(0,o.Wv)(h,{key:1,class:"mb-2"})):(0,o.Q3)("",!0),(0,o.bF)(b)]),(0,o.Lk)("div",se,[(0,o.bF)(g,{class:"mt-1"})])])])])])):((0,o.uX)(),(0,o.CE)("div",ae,t[2]||(t[2]=[(0,o.Lk)("h1",null,"Sorry, this character doesn't exist :C",-1)]))),(0,o.bF)(v)],64)}var oe=s.p+"img/navlogo.e0658403.png";const ie={class:""},re={class:"container"},ne={class:"d-flex flex-wrap justify-content-center py-3"},ce={key:0,class:"nav nav-pills d-none d-sm-flex"},de={class:"nav-item"},pe={class:"nav-item"},me={class:"nav-item"};function ue(e,t,s,a,l,i){const r=(0,o.g2)("router-link");return(0,o.uX)(),(0,o.CE)("div",ie,[(0,o.Lk)("div",re,[(0,o.Lk)("header",ne,[(0,o.bF)(r,{to:"/",class:"d-flex align-items-center mb-0 me-sm-auto link-body-emphasis text-decoration-none"},{default:(0,o.k6)((()=>t[0]||(t[0]=[(0,o.Lk)("img",{src:oe,style:{height:"35px"}},null,-1)]))),_:1}),e.$md.ply?((0,o.uX)(),(0,o.CE)("ul",ce,[(0,o.Lk)("li",de,[(0,o.bF)(r,{class:"nav-link",to:"/player/"+e.$md.ply.id},{default:(0,o.k6)((()=>t[1]||(t[1]=[(0,o.eW)("Home")]))),_:1},8,["to"])]),(0,o.Lk)("li",pe,[(0,o.bF)(r,{class:"nav-link",to:"/player/"+e.$md.ply.id+"/notes"},{default:(0,o.k6)((()=>t[2]||(t[2]=[(0,o.eW)("Notebook")]))),_:1},8,["to"])]),(0,o.Lk)("li",me,[(0,o.bF)(r,{class:"nav-link",to:"/player/"+e.$md.ply.id+"/spells"},{default:(0,o.k6)((()=>t[3]||(t[3]=[(0,o.eW)("Spellbook")]))),_:1},8,["to"])])])):(0,o.Q3)("",!0)])])])}var he={name:"NavBar"};const be=(0,r.A)(he,[["render",ue]]);var ge=be;const ve={class:"mb-2"},fe={class:"dropdown"},ye={id:"md-healthbar",class:"bg-dark-subtle rounded overflow-hidden","data-bs-toggle":"dropdown","aria-expanded":"false"},ke={style:{"text-wrap":"nowrap"}},Le={class:"dropdown-menu dropdown-menu-end",style:{}},xe={class:"mb-2"},we={class:"d-flex justify-content-center"};function _e(e,t,s,l,i,r){const n=(0,o.g2)("mdButton");return(0,o.uX)(),(0,o.CE)("div",ve,[(0,o.Lk)("div",fe,[t[7]||(t[7]=(0,o.Lk)("label",{for:"md-healthbar",class:"text-body-secondary"},"Health Points",-1)),(0,o.Lk)("div",ye,[(0,o.Lk)("div",{class:(0,P.C4)(["p-1 text-center healthbar",r.getColor()]),style:(0,P.Tr)({width:r.getPercentage(e.$md.ply.health.currentHP,e.$md.ply.health.maxHP)+"%"})},[(0,o.Lk)("span",ke,(0,P.v_)(e.$md.ply.health.currentHP)+" / "+(0,P.v_)(e.$md.ply.health.maxHP),1)],6)]),(0,o.Lk)("ul",Le,[(0,o.Lk)("form",{class:"px-3 py-2 text-center",onSubmit:t[3]||(t[3]=(...e)=>r.runForm&&r.runForm(...e))},[(0,o.Lk)("div",xe,[t[4]||(t[4]=(0,o.Lk)("label",{for:"healthInput",class:"form-label"},"Modify Health",-1)),(0,o.bo)((0,o.Lk)("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>i.hpInt=e),type:"text",class:"form-control",id:"healthInput",placeholder:"5",autofocus:"",style:{width:"140px"}},null,512),[[a.Jo,i.hpInt]])]),(0,o.Lk)("div",we,[(0,o.bF)(n,{onClick:t[1]||(t[1]=e=>r.addHP())},{default:(0,o.k6)((()=>t[5]||(t[5]=[(0,o.eW)("Heal")]))),_:1}),(0,o.bF)(n,{onClick:t[2]||(t[2]=e=>r.addHP(!0))},{default:(0,o.k6)((()=>t[6]||(t[6]=[(0,o.eW)("Damage")]))),_:1})])],32)])])])}s(4114);const $e={class:"button btn btn-outline-primary px-2 py-1 mx-1 text-uppercase"};function Ce(e,t,s,a,l,i){return(0,o.uX)(),(0,o.CE)("button",$e,[(0,o.RG)(e.$slots,"default",{},void 0,!0)])}var Se={name:"mdButton"};const Pe=(0,r.A)(Se,[["render",Ce],["__scopeId","data-v-6e79143b"]]);var Ee=Pe,Ae={name:"HealthBar",data(){return{hpInt:""}},components:{mdButton:Ee},methods:{runForm(e){return e.preventDefault(),!1},addHP(e=!1){const t=this.$md.Dice.x(this.hpInt);this.$md.ply.health.add(e?-1*t.total:t.total),t.list.length>0&&this.$md.diceHistory.push(t),this.hpInt="",this.$md.savePlayer()},getPercentage(e,t){return e/t*100<0?0:e/t*100},getColor(){const e=this.getPercentage(this.$md.ply.health.currentHP,this.$md.ply.health.maxHP);return e<=25?"bg-danger-subtle text-danger-emphasis":e<=50?"bg-warning-subtle text-warning-emphasis":"bg-success text-white"}}};const Fe=(0,r.A)(Ae,[["render",_e],["__scopeId","data-v-4f50bf98"]]);var De=Fe;const Me={class:"mb-2"},Ne={id:"md-abscores",class:"row justify-content-center"},Ie=["onClick"],He={class:"",style:{"font-size":"14px"}},je={class:"fs-3 text-white"},Ue={class:""};function Oe(e,t,s,a,l,i){return(0,o.uX)(),(0,o.CE)("div",null,[(0,o.Lk)("div",Me,[t[0]||(t[0]=(0,o.Lk)("label",{for:"md-abscores",class:"text-body-secondary"},"Ability Scores",-1)),(0,o.Lk)("div",Ne,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(e.$md.ply.stats.ability,((t,s)=>((0,o.uX)(),(0,o.CE)("div",{style:{},class:"col-3 col-xxl shadow rounded text-center bg-body-secondary text-secondary-emphasis m-1 py-1",onClick:t=>i.roll(e.$md.ply.stats.ability_mod[s])},[(0,o.Lk)("div",He,(0,P.v_)(i.abName(s)),1),(0,o.Lk)("div",je,(0,P.v_)(e.$md.ply.stats.ability_mod[s]),1),(0,o.Lk)("div",Ue,(0,P.v_)(t),1)],8,Ie)))),256))])])])}var Be={name:"AbilityScores",methods:{abName:e=>{switch(e){case"str":return"Strength";case"dex":return"Dexterity";case"cnst":return"Constitution";case"int":return"Intelligence";case"wis":return"Wisdom";case"chr":return"Charisma";default:return"Score"}},roll(e){this.$md.diceHistory.push(this.$md.Dice.x("d20+"+e))}}};const Te=(0,r.A)(Be,[["render",Oe]]);var Je=Te;const Xe={id:"md-abscores",class:"d-flex justify-content-center"},Ve={style:{},class:"shadow rounded bg-body-secondary text-center m-1 p-0 flex-fill overflow-hidden"},Re={class:"fs-3"},qe={style:{},class:"shadow rounded bg-body-secondary text-center m-1 p-0 flex-fill overflow-hidden"},We={class:"fs-3"},Ye={class:"fs-3"};function Ge(e,t,s,a,l,i){return(0,o.uX)(),(0,o.CE)("div",null,[(0,o.Lk)("div",Xe,[(0,o.Lk)("div",Ve,[(0,o.Lk)("div",Re,(0,P.v_)(e.$md.ply.magic.Mod),1),t[1]||(t[1]=(0,o.Lk)("div",{class:"text-secondary-emphasis py-1",style:{"font-size":"14px"}},"Spellcasting Ability",-1))]),(0,o.Lk)("div",qe,[(0,o.Lk)("div",We,(0,P.v_)(e.$md.ply.magic.DC),1),t[2]||(t[2]=(0,o.Lk)("div",{class:"text-secondary-emphasis py-1",style:{"font-size":"14px"}},"Spellsave DC",-1))]),(0,o.Lk)("div",{style:{},onClick:t[0]||(t[0]=t=>i.roll(e.$md.ply.magic.SPAttack)),class:"shadow rounded bg-body-secondary text-center m-1 p-0 flex-fill overflow-hidden"},[(0,o.Lk)("div",Ye,(0,P.v_)(e.$md.ply.magic.SPAttack),1),t[3]||(t[3]=(0,o.Lk)("div",{class:"text-secondary-emphasis py-1",style:{"font-size":"14px"}},"Spellattack Bonus",-1))])])])}var ze={name:"SpellScores",methods:{roll(e){this.$md.diceHistory.push(this.$md.Dice.x("d20+"+e))}}};const Ke=(0,r.A)(ze,[["render",Ge]]);var Qe=Ke;s(8111),s(116);const Ze={class:"mb-3"},et={class:"list-group list-group-flush"},tt={class:"dropdown"},st={class:"dropdown-menu"},at=["onClick"],lt={class:"dropdown-item d-flex align-items-center"},ot=["onUpdate:modelValue"],it=["onClick"],rt={class:"mb-4"},nt={class:"list-group list-group-flush"},ct={class:"dropdown"},dt={class:"dropdown-menu"},pt=["onClick"],mt={class:"dropdown-item d-flex align-items-center"},ut=["onUpdate:modelValue"],ht=["onClick"],bt=["onClick"];function gt(e,t,s,l,i,r){return(0,o.uX)(),(0,o.CE)("div",null,[(0,o.Lk)("div",Ze,[t[4]||(t[4]=(0,o.Lk)("h4",null,"Saving Throws",-1)),t[5]||(t[5]=(0,o.Lk)("hr",{class:"mt-2 mb-0"},null,-1)),(0,o.Lk)("ul",et,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(e.$md.ply.stats.sthrows,(s=>((0,o.uX)(),(0,o.CE)("li",{class:(0,P.C4)(["list-group-item list-group-item-action d-flex justify-content-between",e.$md.ply.stats.save_throws.find((e=>e==s[0]))?"list-group-item-primary":""]),key:s[0]},[(0,o.Lk)("div",null,(0,P.v_)(r.getName(s[0])),1),(0,o.Lk)("div",null,[(0,o.Lk)("span",null,(0,P.v_)(s[1]),1),(0,o.Lk)("span",tt,[t[3]||(t[3]=(0,o.Lk)("i",{class:"bi bi-three-dots ms-2","data-bs-toggle":"dropdown","aria-expanded":"false"},null,-1)),(0,o.Lk)("ul",st,[(0,o.Lk)("li",null,[(0,o.Lk)("a",{class:"dropdown-item",onClick:e=>r.roll(s[1])}," Roll ",8,at)]),(0,o.Lk)("li",lt,[t[2]||(t[2]=(0,o.Lk)("span",{class:"me-3"},"Modifier: ",-1)),(0,o.bo)((0,o.Lk)("input",{type:"number","onUpdate:modelValue":t=>e.$md.ply.stats.new_save_throws[s[0]].custom=t,placeholder:"0",onChange:t[0]||(t[0]=t=>e.$md.savePlayer()),class:"form-control form-control-sm"},null,40,ot),[[a.Jo,e.$md.ply.stats.new_save_throws[s[0]].custom,void 0,{number:!0}]])]),(0,o.Lk)("li",null,[(0,o.Lk)("a",{class:"dropdown-item",onClick:t=>{r.toggleSThrow(s[0]),e.$md.savePlayer()}},(0,P.v_)(e.$md.ply.stats.save_throws.find((e=>e==s[0]))?"Remove":"Add")+" Proficiency ",9,it)])])])])],2)))),128))])]),(0,o.Lk)("div",rt,[t[8]||(t[8]=(0,o.Lk)("h4",null,"Skills",-1)),t[9]||(t[9]=(0,o.Lk)("hr",{class:"mt-2 mb-0"},null,-1)),(0,o.Lk)("ul",nt,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(e.$md.ply.stats.skill_modifiers,((s,l)=>((0,o.uX)(),(0,o.CE)("li",{class:(0,P.C4)(["list-group-item list-group-item-action d-flex justify-content-between",r.getColor(s)]),key:l},[(0,o.Lk)("div",null,(0,P.v_)(s.name),1),(0,o.Lk)("div",null,[(0,o.Lk)("span",null,(0,P.v_)(r.calcSkill(s,e.$md.ply.stats)),1),(0,o.Lk)("span",ct,[t[7]||(t[7]=(0,o.Lk)("i",{class:"bi bi-three-dots ms-2","data-bs-toggle":"dropdown","aria-expanded":"false"},null,-1)),(0,o.Lk)("ul",dt,[(0,o.Lk)("li",null,[(0,o.Lk)("a",{class:"dropdown-item",onClick:t=>r.roll(r.calcSkill(s,e.$md.ply.stats))}," Roll ",8,pt)]),(0,o.Lk)("li",mt,[t[6]||(t[6]=(0,o.Lk)("span",{class:"me-3"},"Modifier: ",-1)),(0,o.bo)((0,o.Lk)("input",{type:"number","onUpdate:modelValue":e=>s.custom=e,placeholder:"0",onChange:t[1]||(t[1]=t=>e.$md.savePlayer()),class:"form-control form-control-sm"},null,40,ut),[[a.Jo,s.custom,void 0,{number:!0}]])]),(0,o.Lk)("li",null,[(0,o.Lk)("a",{class:"dropdown-item",onClick:t=>{e.$md.ply.stats.makeProficent(l),e.$md.savePlayer()}},(0,P.v_)(s.proficent?"Remove":"Add")+" Proficiency ",9,ht)]),(0,o.Lk)("li",null,[(0,o.Lk)("a",{class:"dropdown-item",onClick:t=>{e.$md.ply.stats.expertCheck(l),e.$md.savePlayer()}},(0,P.v_)(s.expert?"Remove":"Add")+" Expertise ",9,bt)])])])])],2)))),128))])])])}var vt={name:"Stats",methods:{getColor:e=>e.expert?"list-group-item-success":e.proficent?"list-group-item-primary":"",calcSkill:(e,t)=>{let s=t.ability_mod[e.raw];return e.proficent&&(s+=t.prof,e.expert&&(s+=t.prof)),e.custom&&(isNaN(e.custom)||(s+=Number(e.custom))),s},toggleSThrow(e){if(this.$md.ply.stats.save_throws.includes(e)){const t=this.$md.ply.stats.save_throws.indexOf(e);t>-1&&this.$md.ply.stats.save_throws.splice(t,1)}else void 0!==this.$md.ply.stats.sthrows.get(e)&&this.$md.ply.stats.save_throws.push(e)},getName:e=>{switch(e){case"str":return"Strength";case"dex":return"Dexterity";case"cnst":return"Constitution";case"int":return"Intelligence";case"wis":return"Wisdom";case"chr":return"Charisma";default:return"Attribute"}},roll(e){this.$md.diceHistory.push(this.$md.Dice.x("d20+"+e))}}};const ft=(0,r.A)(vt,[["render",gt],["__scopeId","data-v-20d04b70"]]);var yt=ft;const kt={key:0},Lt={key:0,class:"my-3"},xt={class:"mt-2 text-center text-lg-start"},wt={class:"d-flex my-1 align-items-center justify-content-between"},_t={class:"h2 py-1 m-0"},$t={class:"dropdown dropcenter"},Ct={class:"dropdown-menu"},St={class:"text-body-secondary mb-0"},Pt={key:0},Et={class:"row justify-content-between mt-2"},At={class:"col-3"},Ft={class:"fw-bold fs-3 m-0"},Dt={class:"col-3"},Mt={class:"fw-bold fs-3 m-0"},Nt={class:"col-3"},It={class:"fw-bold fs-3 m-0"},Ht={class:"row py-1 mt-2 align-items-center"},jt={class:"col-3 text-start"},Ut={class:"row py-1 align-items-center"},Ot={class:"col-3 text-start"},Bt={class:"row py-1 align-items-center"},Tt={class:"col-3 text-start"},Jt={class:"row py-1 align-items-center"},Xt={class:"col-3 text-start"},Vt={key:1};function Rt(e,t,s,l,i,r){const n=(0,o.g2)("mdButton"),c=(0,o.g2)("EditPlayerBio");return(0,o.uX)(),(0,o.CE)(o.FK,null,[i.editMode?(0,o.Q3)("",!0):((0,o.uX)(),(0,o.CE)("div",kt,[i.showPhotoForm?((0,o.uX)(),(0,o.CE)("div",Lt,[(0,o.Lk)("input",{type:"file",onChange:t[0]||(t[0]=(...e)=>r.onAvatarFileChange&&r.onAvatarFileChange(...e)),class:"form-control form-control-sm mb-1"},null,32),(0,o.bo)((0,o.Lk)("input",{type:"text","onUpdate:modelValue":t[1]||(t[1]=e=>r.avatarUrlInput=e),class:"form-control form-control-sm",placeholder:"image url"},null,512),[[a.Jo,r.avatarUrlInput]]),(0,o.Lk)("div",xt,[(0,o.bF)(n,{class:"ms-0",onClick:r.changeAvatarUrl},{default:(0,o.k6)((()=>t[5]||(t[5]=[(0,o.eW)("Set")]))),_:1},8,["onClick"]),(0,o.bF)(n,{class:"me-0 btn-outline-secondary",onClick:r.cancelPhotoForm},{default:(0,o.k6)((()=>t[6]||(t[6]=[(0,o.eW)("Cancel")]))),_:1},8,["onClick"])])])):(0,o.Q3)("",!0),(0,o.Lk)("div",wt,[(0,o.Lk)("h1",_t,(0,P.v_)(e.$md.ply.name),1),(0,o.Lk)("div",$t,[t[7]||(t[7]=(0,o.Lk)("button",{class:"btn fs-4 p-0 px-2 text-muted","data-bs-toggle":"dropdown","aria-expanded":"false"},[(0,o.Lk)("i",{class:"bi bi-three-dots"})],-1)),(0,o.Lk)("ul",Ct,[(0,o.Lk)("li",{class:"dropdown-item",onClick:t[2]||(t[2]=(...e)=>r.openPhotoForm&&r.openPhotoForm(...e))}," Choose Photo "),(0,o.Lk)("li",{class:"dropdown-item",onClick:t[3]||(t[3]=e=>i.editMode=!0)}," Edit Information "),(0,o.Lk)("li",{class:"dropdown-item",onClick:t[4]||(t[4]=t=>e.$md.ply.saveToFile())}," Export (.json) ")])])]),(0,o.Lk)("p",St,(0,P.v_)(e.$md.ply.player_class.name)+" - Level "+(0,P.v_)(e.$md.ply.lvl),1),(0,o.Lk)("p",null,[0!==e.$md.ply.exp?((0,o.uX)(),(0,o.CE)("div",Pt,[t[8]||(t[8]=(0,o.Lk)("span",{class:"text-body-secondary"},"XP: ",-1)),(0,o.eW)((0,P.v_)(e.$md.ply.exp),1)])):(0,o.Q3)("",!0)]),(0,o.Lk)("div",Et,[(0,o.Lk)("div",At,[t[9]||(t[9]=(0,o.Lk)("label",{class:"text-body-secondary"},"AC",-1)),(0,o.Lk)("p",Ft,(0,P.v_)(e.$md.ply.parse(String(e.$md.ply.health.defaultAC))),1)]),(0,o.Lk)("div",Dt,[t[10]||(t[10]=(0,o.Lk)("label",{class:"text-body-secondary"},"Initiative",-1)),(0,o.Lk)("p",Mt,(0,P.v_)(e.$md.ply.parse(String(e.$md.ply.stats.initiative))),1)]),(0,o.Lk)("div",Nt,[t[11]||(t[11]=(0,o.Lk)("label",{class:"text-body-secondary"},"Speed",-1)),(0,o.Lk)("p",It,(0,P.v_)(e.$md.ply.stats.speed),1)])]),(0,o.Lk)("div",Ht,[t[12]||(t[12]=(0,o.Lk)("span",{class:"text-body-secondary col"},"Proficiency Bonus: ",-1)),(0,o.Lk)("span",jt,(0,P.v_)(e.$md.ply.stats.prof),1)]),(0,o.Lk)("div",Ut,[t[13]||(t[13]=(0,o.Lk)("span",{class:"text-body-secondary col"},"Passive Perception: ",-1)),(0,o.Lk)("span",Ot,(0,P.v_)(e.$md.ply.parse(`${e.$md.ply.stats.passive_perception} + ${e.$md.ply.stats.passive_perception_mod?e.$md.ply.stats.passive_perception_mod:"0"}`)),1)]),(0,o.Lk)("div",Bt,[t[14]||(t[14]=(0,o.Lk)("span",{class:"text-body-secondary col"},"Gold: ",-1)),(0,o.Lk)("span",Tt,(0,P.v_)(e.$md.ply.inv.gold)+" GP",1)]),(0,o.Lk)("div",Jt,[t[15]||(t[15]=(0,o.Lk)("span",{class:"text-body-secondary col"},"Hit Dice: ",-1)),(0,o.Lk)("span",Xt,(0,P.v_)(e.$md.ply.health.hitdie),1)])])),i.editMode?((0,o.uX)(),(0,o.CE)("div",Vt,[(0,o.bF)(c)])):(0,o.Q3)("",!0)],64)}const qt={class:"my-2"},Wt={class:"mb-2 mt-2 row"},Yt={class:"col-lg-8"},Gt={class:"col-lg-4"},zt={class:"mb-2"},Kt={class:"row justify-content-between mb-2"},Qt={class:"col"},Zt={class:"col"},es=["placeholder"],ts={class:"col"},ss={class:"mb-2"},as={class:"input-group input-group-sm"},ls={class:"mb-2"},os={class:"mb-2"},is={class:"mb-2"},rs={id:"mdThemeDesc",class:"form-text ms-1"},ns={class:"mt-3"};function cs(e,t,s,l,i,r){const n=(0,o.g2)("mdButton");return(0,o.uX)(),(0,o.CE)("div",null,[(0,o.Lk)("form",null,[(0,o.Lk)("div",qt,[t[13]||(t[13]=(0,o.Lk)("label",{class:"text-body-secondary"},"Name",-1)),(0,o.bo)((0,o.Lk)("input",{type:"text",class:"form-control","onUpdate:modelValue":t[0]||(t[0]=e=>i.name=e)},null,512),[[a.Jo,i.name]])]),(0,o.Lk)("div",Wt,[(0,o.Lk)("div",Yt,[t[14]||(t[14]=(0,o.Lk)("label",{for:"mdClass",class:"form-label mb-1 text-body-secondary"},"Class",-1)),(0,o.bo)((0,o.Lk)("input",{type:"text",placeholder:"Class",class:"form-control form-control-sm",id:"mdClass",list:"mdClasses","aria-describedby":"mdClassHelp","onUpdate:modelValue":t[1]||(t[1]=e=>i.className=e)},null,512),[[a.Jo,i.className]]),t[15]||(t[15]=(0,o.Fv)('<datalist id="mdClasses"><option>Fighter</option><option>Rogue</option><option>Wizard</option><option>Sorcerer</option><option>Cleric</option><option>Warlock</option><option>Paladin</option><option>Barbarian</option><option>Bard</option></datalist><div id="mdClassHelp" class="form-text"> This is just a label, changing this wont affect your character. </div>',2))]),(0,o.Lk)("div",Gt,[t[16]||(t[16]=(0,o.Lk)("label",{for:"mdLevel",class:"form-label mb-1 text-body-secondary"},"Level",-1)),(0,o.bo)((0,o.Lk)("input",{type:"number",placeholder:"1",class:"form-control form-control-sm",id:"mdLevel","onUpdate:modelValue":t[2]||(t[2]=e=>i.lvl=e)},null,512),[[a.Jo,i.lvl]])])]),(0,o.Lk)("div",zt,[t[17]||(t[17]=(0,o.Lk)("label",{for:"mdExp",class:"form-label mb-1 text-body-secondary"},"Experience Points",-1)),(0,o.bo)((0,o.Lk)("input",{placeholder:"0",type:"number",class:"form-control form-control-sm",id:"mdExp","onUpdate:modelValue":t[3]||(t[3]=e=>i.xp=e)},null,512),[[a.Jo,i.xp]])]),(0,o.Lk)("div",Kt,[(0,o.Lk)("div",Qt,[t[18]||(t[18]=(0,o.Lk)("label",{class:"text-body-secondary"},"AC",-1)),(0,o.bo)((0,o.Lk)("input",{type:"text",placeholder:"10",class:"form-control fs-4","onUpdate:modelValue":t[4]||(t[4]=e=>i.ac=e)},null,512),[[a.Jo,i.ac]])]),(0,o.Lk)("div",Zt,[t[19]||(t[19]=(0,o.Lk)("label",{class:"text-body-secondary"},"Initiative",-1)),(0,o.bo)((0,o.Lk)("input",{type:"text",placeholder:e.$md.ply.stats.ability_mod.dex,class:"form-control fs-4","onUpdate:modelValue":t[5]||(t[5]=e=>i.initiative=e)},null,8,es),[[a.Jo,i.initiative]])]),(0,o.Lk)("div",ts,[t[20]||(t[20]=(0,o.Lk)("label",{class:"text-body-secondary"},"Speed",-1)),(0,o.bo)((0,o.Lk)("input",{type:"number",placeholder:"30",class:"form-control fs-4","onUpdate:modelValue":t[6]||(t[6]=e=>i.speed=e)},null,512),[[a.Jo,i.speed]])])]),(0,o.Lk)("div",ss,[t[22]||(t[22]=(0,o.Lk)("label",{class:"text-body-secondary mb-1"},"Passive Perception",-1)),(0,o.Lk)("div",as,[t[21]||(t[21]=(0,o.Lk)("span",{class:"input-group-text",id:"pp"},"14 +",-1)),(0,o.bo)((0,o.Lk)("input",{type:"text",class:"form-control form-control-sm","onUpdate:modelValue":t[7]||(t[7]=e=>i.passive_perception_mod=e),placeholder:"0","aria-describedby":"pp"},null,512),[[a.Jo,i.passive_perception_mod]])])]),(0,o.Lk)("div",ls,[t[23]||(t[23]=(0,o.Lk)("label",{class:"text-body-secondary"},"Gold",-1)),(0,o.bo)((0,o.Lk)("input",{type:"number",class:"form-control form-control-sm","onUpdate:modelValue":t[8]||(t[8]=e=>i.gold=e)},null,512),[[a.Jo,i.gold]])]),(0,o.Lk)("div",os,[t[24]||(t[24]=(0,o.Lk)("label",{class:"text-body-secondary"},"Hit Dice",-1)),(0,o.bo)((0,o.Lk)("input",{type:"text",class:"form-control form-control-sm","onUpdate:modelValue":t[9]||(t[9]=e=>i.hitdie=e)},null,512),[[a.Jo,i.hitdie]])]),t[27]||(t[27]=(0,o.Lk)("hr",{class:"mb-2"},null,-1)),(0,o.Lk)("div",is,[t[26]||(t[26]=(0,o.Lk)("label",{class:"text-body-secondary mb-1"},"Theme",-1)),(0,o.bo)((0,o.Lk)("select",{name:"Themes",class:"form-select form-select-sm","onUpdate:modelValue":t[10]||(t[10]=e=>i.theme=e),onChange:t[11]||(t[11]=(...e)=>r.changeTheme&&r.changeTheme(...e)),"aria-describedby":"mdThemeDesc"},t[25]||(t[25]=[(0,o.Lk)("option",{value:"default",selected:""},"Magic Dice",-1),(0,o.Lk)("option",{value:"cyberpunk"},"CYBERPUNK: Stagnation",-1)]),544),[[a.u1,i.theme]]),(0,o.Lk)("div",rs,(0,P.v_)(this.theme_descs[this.theme]),1)])]),(0,o.Lk)("div",ns,[(0,o.bF)(n,{onClick:t[12]||(t[12]=e=>r.saveChanges())},{default:(0,o.k6)((()=>t[28]||(t[28]=[(0,o.eW)("Save")]))),_:1}),(0,o.bF)(n,{class:"btn-outline-secondary",onClick:r.cancel},{default:(0,o.k6)((()=>t[29]||(t[29]=[(0,o.eW)("Cancel")]))),_:1},8,["onClick"])])])}var ds={name:"EditPlayerBio",components:{mdButton:Ee},data(){return{name:this.$md.ply.name,className:this.$md.ply.player_class.name,lvl:this.$md.ply.lvl,xp:this.$md.ply.exp,ac:this.$md.ply.health.defaultAC,speed:this.$md.ply.stats.speed,gold:this.$md.ply.inv.gold,hitdie:this.$md.ply.health.hitdie,initiative:this.$md.ply.stats.initiative,passive_perception_mod:this.$md.ply.stats.passive_perception_mod,theme:this.$md.ply.theme,theme_descs:{default:"A modern serif-style theme with a hint of fantasy.",cyberpunk:"What are you willing to do, renegade?"}}},methods:{changeName(){const e=this.$md.ply.id;this.$md.ply.name=this.name,this.$md.savePlayer(),this.$md.Load.deleteCharacter(e),this.$router.push({path:`/player/${this.$md.ply.id}`})},changeTheme(){"default"==this.theme?document.documentElement.removeAttribute("data-theme"):document.documentElement.setAttribute("data-theme",this.theme),document.querySelector("#banner-default")&&document.querySelector("#banner-default").dispatchEvent(new Event("glow"))},hexToRgb(e){const t=/^#?([a-f\d])([a-f\d])([a-f\d])$/i;e=e.replace(t,(function(e,t,s,a){return t+t+s+s+a+a}));let s=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return s=s?{r:parseInt(s[1],16),g:parseInt(s[2],16),b:parseInt(s[3],16)}:null,s?`${s.r}, ${s.g}, ${s.b}`:null},saveChanges(){this.$md.ply.lvl=this.lvl,this.$md.ply.exp=this.xp,this.$md.ply.player_class.name=this.className,this.$md.ply.health.defaultAC=this.ac,this.$md.ply.stats.speed=this.speed,this.$md.ply.inv.gold=this.gold,this.$md.ply.health.hitdie=this.hitdie,this.$md.ply.stats.initiative=this.initiative,this.$md.ply.stats.passive_perception_mod=this.passive_perception_mod,this.$md.ply.theme=this.theme,this.$md.savePlayer(),this.name!=this.$md.ply.name&&this.changeName(),this.$parent.editMode=!1},cancel(){this.theme=this.$md.ply.theme,this.changeTheme(),this.$parent.editMode=!1}}};const ps=(0,r.A)(ds,[["render",cs]]);var ms=ps,us={name:"PlayerBio",data(){return{showPhotoForm:!1,editMode:!1,oldAvatar:""}},components:{mdButton:Ee,EditPlayerBio:ms},computed:{avatarUrlInput:{get(){const e=this.$md.ply.render.avatar||"";return e.startsWith("data:")?"":e},set(e){this.$md.ply.render.avatar=e}}},methods:{toggleEdit(){this.editMode=!this.editMode},openPhotoForm(){this.oldAvatar=this.$md.ply.render.avatar||"",this.showPhotoForm=!0},changeAvatarUrl(){this.showPhotoForm=!1,this.$md.savePlayer()},cancelPhotoForm(){this.$md.ply.render.avatar=this.oldAvatar||"",this.showPhotoForm=!1},onAvatarFileChange(e){const t=e.target.files[0];if(t){const e=new FileReader;e.onload=e=>{this.$md.ply.render.avatar=e.target.result},e.readAsDataURL(t)}}}};const hs=(0,r.A)(us,[["render",Rt],["__scopeId","data-v-0f916a6c"]]);var bs=hs;const gs={class:"list-group list-group-flush mb-1"},vs={class:"list-group-item list-group-item-action list-group-item-secondary text-white dicerow"},fs={class:"d-flex justify-content-between align-items-center"},ys=["onClick"],ks={class:"mb-0 text-muted"},Ls={class:"d-flex align-items-center"},xs={class:"pe-3 text-center"},ws={class:"ps-3 border-start"},_s={class:"d-flex"},$s={class:"m-0 text-center px-1"},Cs={key:0},Ss={class:"dice m-1 border rounded border-primary text-primary"},Ps={class:"m-0 text-muted text-center"},Es=["onClick"],As={class:"input-group"},Fs={key:0,class:"mt-1 d-flex flex-wrap justify-content-center justify-content-sm-start"},Ds=["onClick"];function Ms(e,t,s,l,i,r){const n=(0,o.g2)("Card");return(0,o.uX)(),(0,o.CE)("div",null,[t[5]||(t[5]=(0,o.Lk)("label",{for:"md-diceroller",class:"text-body-secondary"},"Dice Tray",-1)),(0,o.bF)(n,{id:"md-diceroller",bgImage:"cards/doragi-2.jpg"},{default:(0,o.k6)((()=>[(0,o.Lk)("ul",gs,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(e.$md.diceHistory,((s,l)=>(0,o.bo)(((0,o.uX)(),(0,o.CE)("li",vs,[(0,o.Lk)("div",fs,[(0,o.Lk)("div",{onClick:t=>e.$md.diceHistory.push(e.$md.Dice.x(s.dice))},[(0,o.Lk)("p",ks,(0,P.v_)(s.dice),1),(0,o.Lk)("div",Ls,[(0,o.Lk)("div",xs,[(0,o.Lk)("p",{class:(0,P.C4)(["fs-3 m-0 fw-bold",s.total==s.max&&"text-success"])},(0,P.v_)(s.total),3),t[3]||(t[3]=(0,o.Lk)("p",{class:"m-0 text-muted"},"total",-1))]),(0,o.Lk)("div",ws,[(0,o.Lk)("div",_s,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(s.list,((e,t)=>((0,o.uX)(),(0,o.CE)("p",$s,[0!=t?((0,o.uX)(),(0,o.CE)("span",Cs,(0,P.v_)(t)+". ",1)):(0,o.Q3)("",!0),((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(e.list,(e=>((0,o.uX)(),(0,o.CE)("span",Ss,(0,P.v_)(e),1)))),256))])))),256))]),(0,o.Lk)("p",Ps,"("+(0,P.v_)(s.compText)+")",1)])])],8,ys),(0,o.Lk)("div",null,[(0,o.Lk)("button",{onClick:t=>e.$md.diceHistory.splice(l,1),class:"btn text-muted p-0"},t[4]||(t[4]=[(0,o.Lk)("i",{class:"bi bi-x-lg"},null,-1)]),8,Es)])])],512)),[[a.aG,l>=e.$md.diceHistory.length-1]]))),256))]),(0,o.Lk)("div",As,[(0,o.bo)((0,o.Lk)("input",{onKeyup:t[0]||(t[0]=(0,a.jR)(((...e)=>r.roll&&r.roll(...e)),["enter"])),type:"text",class:"form-control","onUpdate:modelValue":t[1]||(t[1]=e=>i.diceInput=e),placeholder:"Enter dice roll here (example: d20+4)","aria-label":"Enter dice roll here (example: d20+4)","aria-describedby":"button-addon2"},null,544),[[a.Jo,i.diceInput]]),(0,o.Lk)("button",{onClick:t[2]||(t[2]=(...e)=>r.roll&&r.roll(...e)),class:"btn btn-outline-primary",type:"button",id:"button-addon2"},"Roll")]),e.$md.ply.quick_rolls?((0,o.uX)(),(0,o.CE)("div",Fs,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(e.$md.ply.quick_rolls,(t=>((0,o.uX)(),(0,o.CE)("span",{class:"border border-primary text-primary rounded p-1 px-2 quickroll shadow m-1 mb-0",onClick:s=>e.$md.diceHistory.push(e.$md.Dice.x(t))},(0,P.v_)(t),9,Ds)))),256))])):(0,o.Q3)("",!0)])),_:1})])}const Ns={class:"card bg-body-secondary border-0 shadow m-1 overflow-hidden"},Is={class:"card-body p-3"};function Hs(e,t,s,a,l,i){return(0,o.uX)(),(0,o.CE)("div",Ns,[s.bgImage?((0,o.uX)(),(0,o.CE)("div",{key:0,class:"card-banner",style:(0,P.Tr)({backgroundImage:i.getBg(s.bgImage)})},null,4)):(0,o.Q3)("",!0),(0,o.Lk)("div",Is,[(0,o.RG)(e.$slots,"default",{},void 0,!0)])])}var js={name:"Card",props:{bgImage:String},methods:{getBg:e=>e?"url("+s(1382)("./"+e)+")":"none"}};const Us=(0,r.A)(js,[["render",Hs],["__scopeId","data-v-aedf3ef6"]]);var Os=Us,Bs={name:"DiceRoller",data(){return{diceInput:""}},components:{Card:Os},methods:{roll(){this.diceInput=this.diceInput.trim();const e=this.diceInput.split(" ")[0].toLowerCase();let t=this.diceInput.substring(this.diceInput.indexOf(" ")+1);const s=t.split(" ");if("clear"==this.diceInput)return this.$md.diceHistory.splice(0,this.$md.diceHistory.length),this.diceInput="",!1;if("health"==e){const e=this.$md.Dice.x(t);return this.$md.ply.health.add(e.total),e.list.length>0&&this.$md.diceHistory.push(e),this.diceInput="",this.$md.savePlayer(),!1}if("xp"==e)t=t.replace("+ ","+"),t=t.replace("- ","-"),isNaN(Number(t))||(this.$md.ply.exp+=Number(t)),this.diceInput="",this.$md.savePlayer();else if("gold"==e)t=t.replace("+ ","+"),t=t.replace("- ","-"),isNaN(Number(t))||(this.$md.ply.inv.gold+=Number(t)),this.diceInput="",this.$md.savePlayer();else if("quickroll"==e)Array.isArray(this.$md.ply.quick_rolls)&&("remove"==s[0]?"all"==s[1]?(this.$md.ply.quick_rolls=[],this.$md.savePlayer()):isNaN(s[1])||s[1]>0&&s[1]<=this.$md.ply.quick_rolls.length&&(this.$md.ply.quick_rolls.splice(s[1]-1,1),this.$md.savePlayer()):(this.$md.ply.quick_rolls.push(t),this.$md.savePlayer())),this.diceInput="";else if("parse"==e)console.log(this.$md.ply.parse(t)),this.diceInput="";else try{"roll"==e?this.$md.diceHistory.push(this.$md.Dice.x(t)):this.$md.diceHistory.push(this.$md.Dice.x(this.diceInput)),this.diceInput=""}catch(a){console.error(a)}}}};const Ts=(0,r.A)(Bs,[["render",Ms],["__scopeId","data-v-378a0009"]]);var Js=Ts;const Xs={class:"p-0 position-relative banner"},Vs={key:0,class:"rounded",id:"banner-default",style:{backgroundImage:"var(--default-banner)",maxWidth:"100%",height:"10rem",backgroundSize:"cover",backgroundPosition:"center"}},Rs={class:"position-absolute top-0 end-0"},qs={class:"dropdown"},Ws={class:"dropdown-menu"},Ys={class:"mb-2"},Gs={class:"mb-2"},zs={class:"mb-3"},Ks={class:"d-flex"};function Qs(e,t,s,l,i,r){const n=(0,o.g2)("mdButton");return(0,o.uX)(),(0,o.CE)("div",Xs,[(0,o.Lk)("div",{style:(0,P.Tr)(r.bannerStyle),class:"banner-glow"},null,4),e.$md.ply.render.banner.url?(0,o.Q3)("",!0):((0,o.uX)(),(0,o.CE)("div",Vs)),e.$md.ply.render.banner.url?((0,o.uX)(),(0,o.CE)("div",{key:1,class:"rounded",id:"banner-custom",style:(0,P.Tr)({backgroundImage:"url("+e.$md.ply.render.banner.url+")",maxWidth:"100%",height:"10rem",backgroundSize:"cover",backgroundPosition:e.$md.ply.render.banner.pos})},null,4)):(0,o.Q3)("",!0),(0,o.Lk)("div",Rs,[(0,o.Lk)("div",qs,[(0,o.Lk)("button",{onClick:t[0]||(t[0]=e=>r.saveTemp()),class:"btn","data-bs-toggle":"dropdown","aria-expanded":"false"},t[5]||(t[5]=[(0,o.Lk)("i",{class:"bi bi-three-dots"},null,-1)])),(0,o.Lk)("ul",Ws,[(0,o.Lk)("form",{class:"px-3 py-2",onSubmit:t[4]||(t[4]=e=>(e.preventDefault(),!1))},[(0,o.Lk)("div",Ys,[t[6]||(t[6]=(0,o.Lk)("label",{for:"bannerBase64",class:"form-label"},"Banner Source",-1)),(0,o.Lk)("input",{onChange:t[1]||(t[1]=(...e)=>r.onFileChange&&r.onFileChange(...e)),class:"form-control form-control-sm",type:"file",id:"bannerBase64"},null,32)]),(0,o.Lk)("div",Gs,[(0,o.bo)((0,o.Lk)("input",{"onUpdate:modelValue":t[2]||(t[2]=e=>r.bannerUrlInput=e),type:"text",class:"form-control",id:"bannerURL",placeholder:"url"},null,512),[[a.Jo,r.bannerUrlInput]])]),(0,o.Lk)("div",zs,[t[8]||(t[8]=(0,o.Lk)("label",{for:"bannerPOS",class:"form-label"},"Banner Position",-1)),(0,o.bo)((0,o.Lk)("select",{id:"bannerPOS","onUpdate:modelValue":t[3]||(t[3]=t=>e.$md.ply.render.banner.pos=t),class:"form-control"},t[7]||(t[7]=[(0,o.Lk)("option",{value:"top"},"Top",-1),(0,o.Lk)("option",{value:"center"},"Center",-1),(0,o.Lk)("option",{value:"bottom"},"Bottom",-1)]),512),[[a.u1,e.$md.ply.render.banner.pos]])]),(0,o.Lk)("div",Ks,[(0,o.bF)(n,{onClick:r.changeBanner},{default:(0,o.k6)((()=>t[9]||(t[9]=[(0,o.eW)("Save")]))),_:1},8,["onClick"]),(0,o.bF)(n,{onClick:r.clearBanner},{default:(0,o.k6)((()=>t[10]||(t[10]=[(0,o.eW)("Clear")]))),_:1},8,["onClick"]),(0,o.bF)(n,{onClick:r.revertBanner},{default:(0,o.k6)((()=>t[11]||(t[11]=[(0,o.eW)("Undo")]))),_:1},8,["onClick"])])],32)])])])])}var Zs=s(8022),ea={name:"Banner",components:{mdButton:Ee},data(){return{banner:{url:"",pos:"center"},dominantColor:null}},methods:{changeBanner(){this.setGlow(),this.$md.savePlayer()},saveTemp(){this.banner.url=this.$md.ply.render.banner.url,this.banner.pos=this.$md.ply.render.banner.pos},revertBanner(){this.$md.ply.render.banner.url=this.banner.url,this.$md.ply.render.banner.pos=this.banner.pos},clearBanner(){this.$md.ply.render.banner.url="",this.$md.ply.render.banner.pos="center",this.setGlow(),this.$md.savePlayer()},onFileChange(e){const t=e.target.files[0];if(t){const e=new FileReader;e.onload=e=>{this.$md.ply.render.banner.url=e.target.result},e.readAsDataURL(t)}},lightenRGB([e,t,s],a=.15){const l=[e,t,s],o=255*a,i=[0,1,2].sort(((e,t)=>l[e]-l[t])),r=i[0],n=i[1],c=i[2];if(255===l[r])return l;const d=[...l];d[r]=Math.min(255,Math.round(l[r]+o));const p=(d[r]-l[r])/(255-l[r]);return d[n]=Math.round(l[n]+(255-l[n])*p),d[c]=Math.round(l[c]+(255-l[c])*p),d},saturateRGB([e,t,s],a=1){let l=e/255,o=t/255,i=s/255;const r=Math.max(l,o,i),n=Math.min(l,o,i),c=r-n;let d;d=0===c?0:r===l?(o-i)/c%6:r===o?(i-l)/c+2:(l-o)/c+4,d=(60*d+360)%360;const p=(r+n)/2,m=0===c?0:c/(1-Math.abs(2*p-1));let u=m*(1+a);u=Math.min(Math.max(u,0),1);const h=(1-Math.abs(2*p-1))*u,b=h*(1-Math.abs(d/60%2-1)),g=p-h/2;let[v,f,y]=[0,0,0];return[v,f,y]=d<60?[h,b,0]:d<120?[b,h,0]:d<180?[0,h,b]:d<240?[0,b,h]:d<300?[b,0,h]:[h,0,b],[Math.round(255*(v+g)),Math.round(255*(f+g)),Math.round(255*(y+g))]},setGlow(){let e=window.getComputedStyle(document.documentElement).getPropertyValue("--default-banner");e=e.replace("url(",""),e=e.replace(")","");const t=this.$md.ply.render.banner.url||e;if(this.$md.ply.render.banner.url||"cyberpunk"!=document.documentElement.getAttribute("data-theme")){const e=document.createElement("img");e.crossOrigin="Anonymous",e.src=t,e.onload=()=>{const t=new Zs.A;try{let s=t.getColor(e);s=this.saturateRGB(s),this.dominantColor=`rgb(${s[0]}, ${s[1]}, ${s[2]})`}catch(s){console.warn("ColorThief error:",s.message)}}}else this.dominantColor="rgb(54 0 107)"}},computed:{bannerUrlInput:{get(){const e=this.$md.ply.render.banner.url||"";return e.startsWith("data:")?"":e},set(e){this.$md.ply.render.banner.url=e}},bannerStyle(){return{boxShadow:`\n                0px 5px 40px 0px rgba(0, 0, 0, 0.4),\n                0px 0px 200px 5px ${this.dominantColor||"none"}\n            `}}},mounted(){this.setGlow();const e=document.querySelector("#banner-default");e&&document.querySelector("#banner-default").addEventListener("glow",(()=>{this.banner.url||this.setGlow()}))}};const ta=(0,r.A)(ea,[["render",Qs],["__scopeId","data-v-7060152f"]]);var sa=ta;const aa={class:"mb-2"},la={class:"mb-2 row row-cols-3 row-cols-xl-6 justify-content-center text-center ab-scores"},oa={class:"col"},ia={class:"text-muted mb-0"},ra={class:"col"},na={class:"text-muted mb-0"},ca={class:"col"},da={class:"text-muted mb-0"},pa={class:"col"},ma={class:"text-muted mb-0"},ua={class:"col"},ha={class:"text-muted mb-0"},ba={class:"col"},ga={class:"text-muted mb-0"},va={class:"mb-2"},fa={class:"text-center mt-3"};function ya(e,t,s,l,i,r){const n=(0,o.g2)("mdButton");return(0,o.uX)(),(0,o.CE)("div",null,[(0,o.Lk)("div",aa,[t[10]||(t[10]=(0,o.Lk)("label",{class:"text-body-secondary"},"Health Points",-1)),(0,o.bo)((0,o.Lk)("input",{class:"form-control",type:"number","onUpdate:modelValue":t[0]||(t[0]=e=>i.maxHP=e)},null,512),[[a.Jo,i.maxHP]])]),t[21]||(t[21]=(0,o.Lk)("label",{class:"text-body-secondary form-label"},"Ability Scores",-1)),(0,o.Lk)("div",la,[(0,o.Lk)("div",oa,[t[11]||(t[11]=(0,o.Lk)("label",{class:"text-body-secondary"},"Strength",-1)),(0,o.bo)((0,o.Lk)("input",{class:"form-control form-control-lg fs-5",type:"number","onUpdate:modelValue":t[1]||(t[1]=e=>i.ability.str=e),max:"30"},null,512),[[a.Jo,i.ability.str]]),(0,o.Lk)("p",ia,"( "+(0,P.v_)(r.serAbility(i.ability.str))+" )",1)]),(0,o.Lk)("div",ra,[t[12]||(t[12]=(0,o.Lk)("label",{class:"text-body-secondary"},"Dexterity",-1)),(0,o.bo)((0,o.Lk)("input",{class:"form-control form-control-lg fs-5",type:"number","onUpdate:modelValue":t[2]||(t[2]=e=>i.ability.dex=e)},null,512),[[a.Jo,i.ability.dex]]),(0,o.Lk)("p",na,"( "+(0,P.v_)(r.serAbility(i.ability.dex))+" )",1)]),(0,o.Lk)("div",ca,[t[13]||(t[13]=(0,o.Lk)("label",{class:"text-body-secondary"},"Constitution",-1)),(0,o.bo)((0,o.Lk)("input",{class:"form-control form-control-lg fs-5",type:"number","onUpdate:modelValue":t[3]||(t[3]=e=>i.ability.cnst=e)},null,512),[[a.Jo,i.ability.cnst]]),(0,o.Lk)("p",da,"( "+(0,P.v_)(r.serAbility(i.ability.cnst))+" )",1)]),(0,o.Lk)("div",pa,[t[14]||(t[14]=(0,o.Lk)("label",{class:"text-body-secondary"},"Intelligence",-1)),(0,o.bo)((0,o.Lk)("input",{class:"form-control form-control-lg fs-5",type:"number","onUpdate:modelValue":t[4]||(t[4]=e=>i.ability.int=e)},null,512),[[a.Jo,i.ability.int]]),(0,o.Lk)("p",ma,"( "+(0,P.v_)(r.serAbility(i.ability.int))+" )",1)]),(0,o.Lk)("div",ua,[t[15]||(t[15]=(0,o.Lk)("label",{class:"text-body-secondary"},"Wisdom",-1)),(0,o.bo)((0,o.Lk)("input",{class:"form-control form-control-lg fs-5",type:"number","onUpdate:modelValue":t[5]||(t[5]=e=>i.ability.wis=e)},null,512),[[a.Jo,i.ability.wis]]),(0,o.Lk)("p",ha,"( "+(0,P.v_)(r.serAbility(i.ability.wis))+" )",1)]),(0,o.Lk)("div",ba,[t[16]||(t[16]=(0,o.Lk)("label",{class:"text-body-secondary"},"Charisma",-1)),(0,o.bo)((0,o.Lk)("input",{class:"form-control form-control-lg fs-5",type:"number","onUpdate:modelValue":t[6]||(t[6]=e=>i.ability.chr=e)},null,512),[[a.Jo,i.ability.chr]]),(0,o.Lk)("p",ga,"( "+(0,P.v_)(r.serAbility(i.ability.chr))+" )",1)])]),(0,o.Lk)("div",va,[t[18]||(t[18]=(0,o.Lk)("label",{class:"text-body-secondary mb-1"},"Spellcasting Modifier",-1)),(0,o.bo)((0,o.Lk)("select",{class:"form-select","onUpdate:modelValue":t[7]||(t[7]=e=>i.spcMod=e)},t[17]||(t[17]=[(0,o.Fv)('<option value="" data-v-e0326de8>None</option><option value="str" data-v-e0326de8>Strength</option><option value="dex" data-v-e0326de8>Dexterity</option><option value="cnst" data-v-e0326de8>Constitution</option><option value="int" data-v-e0326de8>Intelligence</option><option value="wis" data-v-e0326de8>Wisdom</option><option value="chr" data-v-e0326de8>Charisma</option>',7)]),512),[[a.u1,i.spcMod]])]),(0,o.Lk)("div",fa,[(0,o.bF)(n,{class:"ms-0",onClick:t[8]||(t[8]=e=>r.save())},{default:(0,o.k6)((()=>t[19]||(t[19]=[(0,o.eW)("Save")]))),_:1}),(0,o.bF)(n,{class:"btn-outline-secondary me-0",onClick:t[9]||(t[9]=t=>e.$parent.editScores=!1)},{default:(0,o.k6)((()=>t[20]||(t[20]=[(0,o.eW)("Cancel")]))),_:1})])])}var ka={name:"Editscores",components:{mdButton:Ee},methods:{serAbility(e){for(var t=-5,s=1;s<=31;s+=2){if(s>=e)return t;t++}return 10},save(){this.$md.ply.health.maxHP==this.$md.ply.health.currentHP&&(this.$md.ply.health.currentHP=this.maxHP),this.$md.ply.health.maxHP=this.maxHP,this.$md.ply.stats.ability=this.ability,this.$md.ply.player_class.spcMod=this.spcMod,this.$md.savePlayer(),this.$parent.editScores=!1}},data(){return{maxHP:this.$md.ply.health.maxHP,ability:{str:this.$md.ply.stats.ability.str,dex:this.$md.ply.stats.ability.dex,cnst:this.$md.ply.stats.ability.cnst,int:this.$md.ply.stats.ability.int,wis:this.$md.ply.stats.ability.wis,chr:this.$md.ply.stats.ability.chr},spcMod:this.$md.ply.player_class.spcMod}}};const La=(0,r.A)(ka,[["render",ya],["__scopeId","data-v-e0326de8"]]);var xa=La;const wa={class:"fixed-bottom d-block d-sm-none"},_a={class:"d-flex justify-content-around nav-mobile py-2 fs-3 text-muted px-3"};function $a(e,t,s,a,l,i){const r=(0,o.g2)("router-link");return(0,o.uX)(),(0,o.CE)(o.FK,null,[t[3]||(t[3]=(0,o.Lk)("div",{style:{height:"50px"},class:"d-block d-sm-none"},null,-1)),(0,o.Lk)("div",wa,[(0,o.Lk)("div",_a,[(0,o.bF)(r,{class:"nav-link",to:`/player/${e.$md.ply.id}/`},{default:(0,o.k6)((()=>t[0]||(t[0]=[(0,o.Lk)("div",{class:"d-flex flex-column text-center px-3"},[(0,o.Lk)("i",{class:"bi bi-house-fill"}),(0,o.Lk)("span",null,"Home")],-1)]))),_:1},8,["to"]),(0,o.bF)(r,{class:"nav-link",to:`/player/${e.$md.ply.id}/notes/`},{default:(0,o.k6)((()=>t[1]||(t[1]=[(0,o.Lk)("div",{class:"d-flex flex-column text-center px-3"},[(0,o.Lk)("i",{class:"bi bi-stickies-fill"}),(0,o.Lk)("span",null,"Notes")],-1)]))),_:1},8,["to"]),(0,o.bF)(r,{class:"nav-link",to:`/player/${e.$md.ply.id}/spells/`},{default:(0,o.k6)((()=>t[2]||(t[2]=[(0,o.Lk)("div",{class:"d-flex flex-column text-center px-3"},[(0,o.Lk)("i",{class:"bi bi-magic"}),(0,o.Lk)("span",null,"Spells")],-1)]))),_:1},8,["to"])])])],64)}var Ca={name:"NavBarMobile"};const Sa=(0,r.A)(Ca,[["render",$a],["__scopeId","data-v-1f2606f3"]]);var Pa=Sa;const Ea=["src"];function Aa(e,t,s,a,l,i){return(0,o.uX)(),(0,o.CE)("div",null,[(0,o.Lk)("img",{src:e.$md.ply.render.avatar,class:"img-fluid shadow rounded d-none d-md-block mx-auto",style:{"max-height":"500px"}},null,8,Ea),e.$md.ply.render.avatar?((0,o.uX)(),(0,o.CE)("div",{key:0,style:(0,P.Tr)([{backgroundImage:"url("+e.$md.ply.render.avatar+")",backgroundSize:"cover"},{height:"250px",width:"250px","border-radius":"50%"}]),class:"img-fluid border border-light shadow d-block d-md-none mx-auto mb-2"},null,4)):(0,o.Q3)("",!0)])}var Fa={name:"Avatar"};const Da=(0,r.A)(Fa,[["render",Aa]]);var Ma=Da,Na={data(){return{editScores:!1,ply:null}},created(){const e=JSON.parse(localStorage.charList)[this.$route.params.id];e&&this.$md.Load.restoreFromObj(e),this.ply=e},components:{NavBar:ge,HealthBar:De,AbilityScores:Je,SpellScores:Qe,Stats:yt,PlayerBio:bs,DiceRoller:Js,Banner:sa,EditScores:xa,MobileNavBar:Pa,Avatar:Ma},watch:{$route(e,t){const s=JSON.parse(localStorage.charList)[this.$route.params.id];s&&this.$md.Load.restoreFromObj(s),this.ply=s}}};const Ia=(0,r.A)(Na,[["render",le]]);var Ha=Ia;const ja={key:0,class:"container"},Ua={class:"row"},Oa={class:"col-lg-9 col"},Ba={class:"d-grid gap-2 mb-3 d-lg-none"},Ta={class:"col-md-3 mb-3 d-none d-lg-block"},Ja={class:"d-grid gap-2"},Xa={key:1,class:"container"};function Va(e,t,s,a,l,i){const r=(0,o.g2)("NavBar"),n=(0,o.g2)("VMarkdownEditor"),c=(0,o.g2)("VMarkdownView"),d=(0,o.g2)("DiceRoller"),p=(0,o.g2)("MobileNavBar");return(0,o.uX)(),(0,o.CE)(o.FK,null,[(0,o.bF)(r),e.$md.ply?((0,o.uX)(),(0,o.CE)("div",ja,[(0,o.Lk)("div",Ua,[(0,o.Lk)("div",Oa,[(0,o.Lk)("div",Ba,[(0,o.Lk)("button",{type:"button",class:"btn btn-outline-primary btn-block mobile-edit",onClick:t[0]||(t[0]=e=>i.toggleEdit())},"Edit Notes")]),l.edit?((0,o.uX)(),(0,o.Wv)(n,{key:0,class:"editor",modelValue:e.$md.ply.stats.misc_notes,"onUpdate:modelValue":t[1]||(t[1]=t=>e.$md.ply.stats.misc_notes=t),locale:"en","upload-action":i.handleUpload},null,8,["modelValue","upload-action"])):(0,o.Q3)("",!0),l.edit?(0,o.Q3)("",!0):((0,o.uX)(),(0,o.Wv)(c,{key:1,class:"mb-5 markdown",mode:"dark",content:e.$md.ply.stats.misc_notes},null,8,["content"]))]),(0,o.Lk)("div",Ta,[(0,o.Lk)("div",Ja,[(0,o.Lk)("button",{type:"button",class:"btn btn-outline-primary btn-block",onClick:t[2]||(t[2]=e=>i.toggleEdit())},"Edit Notes")]),(0,o.bF)(d,{class:"mt-3"})])])])):((0,o.uX)(),(0,o.CE)("div",Xa,t[3]||(t[3]=[(0,o.Lk)("h1",null,"Sorry, this character doesn't exist :C",-1)]))),(0,o.bF)(p)],64)}var Ra=s(819);const qa={class:"button btn btn-outline-primary px-3 py-2 mx-1 text-uppercase"};function Wa(e,t,s,a,l,i){return(0,o.uX)(),(0,o.CE)("button",qa,[(0,o.RG)(e.$slots,"default",{},void 0,!0)])}var Ya={name:"mdButton"};const Ga=(0,r.A)(Ya,[["render",Wa],["__scopeId","data-v-5d527c2c"]]);var za=Ga,Ka={data(){return{ply:null,edit:!1}},components:{NavBar:ge,PlayerBio:bs,DiceRoller:Js,MdButtonLarge:za,VMarkdownEditor:Ra.t,VMarkdownView:Ra.f,MobileNavBar:Pa},created(){const e=JSON.parse(localStorage.charList)[this.$route.params.id];e&&this.$md.Load.restoreFromObj(e),this.ply=e},methods:{handleUpload(){console.log("meme")},toggleEdit(){return this.$md.savePlayer(),this.edit?this.edit=!1:this.edit=!0}}};const Qa=(0,r.A)(Ka,[["render",Va],["__scopeId","data-v-550df5f0"]]);var Za=Qa;s(7588);const el={class:"container pt-3"},tl={key:0,class:"mt-2"},sl={class:"spell-table mb-5 mt-4"},al={class:"text-capitalize h5"},ll={class:"list-group list-group-flush mb-3"},ol={class:"row align-items-center"},il={class:"col text-primary"},rl={class:"col"},nl={class:"col d-none d-sm-block"},cl={class:"col d-none d-sm-block"},dl={class:"col-4 text-muted d-none d-md-block",style:{"font-size":"15px"}},pl={class:"col-1"},ml={class:"dropdown text-end"},ul=["id"],hl=["aria-labelledby"],bl=["onClick"],gl={class:"modal fade",id:"createSpellModal",tabindex:"-1","aria-labelledby":"createSpellModalLabel","aria-hidden":"true"},vl={class:"modal-dialog"},fl={class:"modal-content"},yl={class:"modal-body"},kl={class:"mb-3"},Ll={class:"mb-3"},xl={class:"row mb-3"},wl={class:"col"},_l={class:"col"},$l={class:"mb-3"},Cl={class:"row mb-3"},Sl={class:"col"},Pl={class:"col"},El={class:"mb-3"},Al={class:"mb-3"},Fl={class:"modal-footer border-top-0"},Dl={data(){return{newSpell:{name:"",level:"",school:"",components:"",ctime:"",ritual:"no",concentration:"no",description:"",duration:"",range:"",roll:"",url:""}}},created(){const e=JSON.parse(localStorage.charList)[this.$route.params.id];e&&this.$md.Load.restoreFromObj(e)},methods:{deleteSpell(e,t){t.preventDefault(),this.$md.ply.magic.spells.delete(e.name),this.$md.savePlayer()},submitSpell(){const{name:e,level:t,school:s,description:a}=this.newSpell;if(e.trim())if(t.trim())if(s.trim())if(a.trim())try{this.$md.ply.magic.addJSON(this.newSpell);const e=this.$md.ply.magic.spells.get(this.newSpell.name);this.$md.savePlayer(),this.$router.push({path:`/player/${this.$md.ply.id}/spell/${e.id}`})}catch(l){console.error("Error adding spell:",l),alert("There was an error adding the spell. Please check the input and try again.")}else alert("Spell description is required.");else alert("Spell school is required.");else alert("Spell level is required.");else alert("Spell name is required.")}}};var Ml=Object.assign(Dl,{__name:"SpellListView",setup(e){function t(e){let t=new Map;return e.forEach((e=>{const s=e.level.toLowerCase();t.has(s)?t.get(s).push(e):t.set(s,[e])})),t}return(e,s)=>{const l=(0,o.g2)("router-link");return(0,o.uX)(),(0,o.CE)(o.FK,null,[(0,o.bF)(ge,{class:"shadow"}),s[30]||(s[30]=(0,o.Lk)("div",{class:"banner-img",id:"spellbanner"},[(0,o.Lk)("div",{class:"banner"})],-1)),(0,o.Lk)("div",el,[s[14]||(s[14]=(0,o.Fv)('<h1 class="display-4 spell-heading" data-v-78b3ecff>Spells</h1><div class="d-flex spell-buttons align-items-center fs-3" data-v-78b3ecff><button type="button" class="btn btn-link text-muted me-3 spell-button p-0" data-bs-toggle="modal" data-bs-target="#createSpellModal" data-v-78b3ecff><i class="bi bi-plus-circle fs-3" data-v-78b3ecff></i></button><div class="text-muted spell-button" data-v-78b3ecff><i class="bi bi-three-dots" data-v-78b3ecff></i></div></div>',2)),0==e.$md.ply.magic.spells.size?((0,o.uX)(),(0,o.CE)("div",tl,s[10]||(s[10]=[(0,o.Lk)("hr",{class:"hr"},null,-1),(0,o.Lk)("p",{class:"lead"},"Your character doesn't have any spells.",-1)]))):(0,o.Q3)("",!0),(0,o.Lk)("div",sl,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(t(e.$md.ply.magic.spells),(t=>((0,o.uX)(),(0,o.CE)("div",{key:t[0]},[(0,o.Lk)("h3",al,(0,P.v_)(t[0])+" Level",1),s[13]||(s[13]=(0,o.Lk)("hr",{class:"m-0 mb-2"},null,-1)),(0,o.Lk)("ul",ll,[s[12]||(s[12]=(0,o.Fv)('<div class="px-3" data-v-78b3ecff><div class="row lato-bold text-uppercase" style="font-size:13px;" data-v-78b3ecff><div class="col" data-v-78b3ecff>Name</div><div class="col" data-v-78b3ecff>Casting Time</div><div class="col d-none d-sm-block" data-v-78b3ecff>Duration</div><div class="col d-none d-sm-block" data-v-78b3ecff>Range / Area</div><div class="col-4 d-none d-md-block" data-v-78b3ecff>Description</div><div class="col-1" data-v-78b3ecff></div></div></div>',1)),((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(t[1],(t=>((0,o.uX)(),(0,o.CE)("div",{class:"my-1 py-2 spell-item",key:t.id},[(0,o.bF)(l,{class:"text-decoration-none d-block p-3 py-0 spell-link",to:`/player/${e.$md.ply.id}/spell/${t.id}`},{default:(0,o.k6)((()=>[(0,o.Lk)("div",ol,[(0,o.Lk)("div",il,(0,P.v_)(t.name),1),(0,o.Lk)("div",rl,(0,P.v_)(t.ctime.length>=27?t.ctime.slice(0,26)+"...":t.ctime),1),(0,o.Lk)("div",nl,(0,P.v_)(t.duration),1),(0,o.Lk)("div",cl,(0,P.v_)(t.range),1),(0,o.Lk)("div",dl,(0,P.v_)(t.description.slice(0,65))+"... ",1),(0,o.Lk)("div",pl,[(0,o.Lk)("div",ml,[(0,o.Lk)("button",{class:"btn text-muted p-0",type:"button",id:`dropdownMenuButton-${t.id}`,"data-bs-toggle":"dropdown","aria-expanded":"false"},s[11]||(s[11]=[(0,o.Lk)("i",{class:"bi bi-three-dots"},null,-1)]),8,ul),(0,o.Lk)("ul",{class:"dropdown-menu","aria-labelledby":`dropdownMenuButton-${t.id}`},[(0,o.Lk)("li",null,[(0,o.Lk)("div",{class:"dropdown-item",onClick:s=>e.deleteSpell(t,s)},"Remove Spell",8,bl)])],8,hl)])])])])),_:2},1032,["to"])])))),128))])])))),128))])]),(0,o.Lk)("div",gl,[(0,o.Lk)("div",vl,[(0,o.Lk)("div",fl,[(0,o.Lk)("form",{onSubmit:s[9]||(s[9]=(0,a.D$)(((...t)=>e.submitSpell&&e.submitSpell(...t)),["prevent"]))},[s[29]||(s[29]=(0,o.Lk)("div",{class:"modal-header"},[(0,o.Lk)("h5",{class:"modal-title",id:"createSpellModalLabel"},"Add a new spell"),(0,o.Lk)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1)),(0,o.Lk)("div",yl,[(0,o.Lk)("div",kl,[s[15]||(s[15]=(0,o.Lk)("label",{class:"form-label mb-1 text-body-secondary"},"Name",-1)),(0,o.bo)((0,o.Lk)("input",{type:"text",class:"form-control","onUpdate:modelValue":s[0]||(s[0]=t=>e.newSpell.name=t),required:""},null,512),[[a.Jo,e.newSpell.name]])]),(0,o.Lk)("div",Ll,[s[17]||(s[17]=(0,o.Lk)("label",{class:"form-label mb-1 text-body-secondary"},"Ritual",-1)),(0,o.bo)((0,o.Lk)("select",{class:"form-select form-select-sm","onUpdate:modelValue":s[1]||(s[1]=t=>e.newSpell.ritual=t),required:""},s[16]||(s[16]=[(0,o.Lk)("option",{value:"no"},"No",-1),(0,o.Lk)("option",{value:"yes"},"Yes",-1)]),512),[[a.u1,e.newSpell.ritual]])]),(0,o.Lk)("div",xl,[(0,o.Lk)("div",wl,[s[18]||(s[18]=(0,o.Lk)("label",{class:"form-label mb-1 text-body-secondary"},"Level",-1)),(0,o.bo)((0,o.Lk)("input",{type:"text",class:"form-control form-control-sm",list:"levels","onUpdate:modelValue":s[2]||(s[2]=t=>e.newSpell.level=t),required:""},null,512),[[a.Jo,e.newSpell.level]]),s[19]||(s[19]=(0,o.Fv)('<datalist id="levels" data-v-78b3ecff><option value="Cantrip" data-v-78b3ecff></option><option value="1st" data-v-78b3ecff></option><option value="2nd" data-v-78b3ecff></option><option value="3rd" data-v-78b3ecff></option><option value="4th" data-v-78b3ecff></option><option value="5th" data-v-78b3ecff></option><option value="6th" data-v-78b3ecff></option><option value="7th" data-v-78b3ecff></option><option value="8th" data-v-78b3ecff></option><option value="9th" data-v-78b3ecff></option></datalist>',1))]),(0,o.Lk)("div",_l,[s[20]||(s[20]=(0,o.Lk)("label",{class:"form-label mb-1 text-body-secondary"},"School",-1)),(0,o.bo)((0,o.Lk)("input",{type:"text",class:"form-control form-control-sm",list:"schools","onUpdate:modelValue":s[3]||(s[3]=t=>e.newSpell.school=t),required:""},null,512),[[a.Jo,e.newSpell.school]]),s[21]||(s[21]=(0,o.Fv)('<datalist id="schools" data-v-78b3ecff><option value="Evocation" data-v-78b3ecff></option><option value="Abjuration" data-v-78b3ecff></option><option value="Conjuration" data-v-78b3ecff></option><option value="Divination" data-v-78b3ecff></option><option value="Enchantment" data-v-78b3ecff></option><option value="Illusion" data-v-78b3ecff></option><option value="Necromancy" data-v-78b3ecff></option><option value="Transmuation" data-v-78b3ecff></option></datalist>',1))])]),(0,o.Lk)("div",$l,[s[22]||(s[22]=(0,o.Lk)("label",{class:"form-label mb-1 text-body-secondary"},"Components",-1)),(0,o.bo)((0,o.Lk)("input",{type:"text",class:"form-control form-control-sm","onUpdate:modelValue":s[4]||(s[4]=t=>e.newSpell.components=t),placeholder:"V, S, M",required:""},null,512),[[a.Jo,e.newSpell.components]])]),(0,o.Lk)("div",Cl,[(0,o.Lk)("div",Sl,[s[23]||(s[23]=(0,o.Lk)("label",{class:"form-label mb-1 text-body-secondary"},"Casting Time",-1)),(0,o.bo)((0,o.Lk)("input",{type:"text",class:"form-control form-control-sm","onUpdate:modelValue":s[5]||(s[5]=t=>e.newSpell.ctime=t),placeholder:"1 Action",required:""},null,512),[[a.Jo,e.newSpell.ctime]])]),(0,o.Lk)("div",Pl,[s[24]||(s[24]=(0,o.Lk)("label",{class:"form-label mb-1 text-body-secondary"},"Duration",-1)),(0,o.bo)((0,o.Lk)("input",{type:"text",class:"form-control form-control-sm","onUpdate:modelValue":s[6]||(s[6]=t=>e.newSpell.duration=t),placeholder:"Instantaneous",required:""},null,512),[[a.Jo,e.newSpell.duration]])])]),(0,o.Lk)("div",El,[s[25]||(s[25]=(0,o.Lk)("label",{class:"form-label mb-1 text-body-secondary"},"Range / Area",-1)),(0,o.bo)((0,o.Lk)("input",{type:"text",class:"form-control form-control-sm","onUpdate:modelValue":s[7]||(s[7]=t=>e.newSpell.range=t),placeholder:"Self",required:""},null,512),[[a.Jo,e.newSpell.range]])]),(0,o.Lk)("div",Al,[s[26]||(s[26]=(0,o.Lk)("label",{class:"form-label mb-1 text-body-secondary"},"Description",-1)),(0,o.bo)((0,o.Lk)("textarea",{class:"form-control","onUpdate:modelValue":s[8]||(s[8]=t=>e.newSpell.description=t),rows:"6",required:""},null,512),[[a.Jo,e.newSpell.description]])])]),(0,o.Lk)("div",Fl,[(0,o.bF)(Ee,{type:"button",class:"btn btn-outline-secondary","data-bs-dismiss":"modal"},{default:(0,o.k6)((()=>s[27]||(s[27]=[(0,o.eW)(" Cancel ")]))),_:1}),(0,o.bF)(Ee,{type:"submit",class:"btn btn-outline-primary","data-bs-dismiss":"modal"},{default:(0,o.k6)((()=>s[28]||(s[28]=[(0,o.eW)(" Submit ")]))),_:1})])],32)])])]),(0,o.bF)(Pa)],64)}}});const Nl=(0,r.A)(Ml,[["__scopeId","data-v-78b3ecff"]]);var Il=Nl,Hl=(s(1701),s(8353));const jl={class:"container text-center"},Ul={class:"row"},Ol={class:"col-xl-8 m-auto mb-4"},Bl={class:"text-start"},Tl={class:"display-3 text-uppercase mt-4"},Jl={class:"lead text-body-secondary"},Xl={class:"d-flex flex-wrap justify-content-around"},Vl={class:"p-2"},Rl={class:"p-2"},ql={class:"p-2"},Wl={class:"p-2"},Yl={class:"p-2"},Gl=["innerHTML"],zl={data(){return{spell:{}}},created(){const e=JSON.parse(localStorage.charList)[this.$route.params.id];if(e){this.$md.Load.restoreFromObj(e);const t=this.$route.params.spell;this.$md.ply.magic.spells.forEach((e=>{e.id==t&&(this.spell=e)}))}}};var Kl=Object.assign(zl,{__name:"SpellView",setup(e){let t=(0,l.KR)(!1);function s(e){if(!e)return"";const s=e.split(/\n\s*\n/),a=s.map((e=>{if(e.trim().startsWith("-")){const t=e.split("\n").map((e=>e.trim().replace(/^-/,"").trim())).map((e=>`<li>${e}</li>`)).join("");return`<ul>${t}</ul>`}return e=e.replace(/(At higher levels\.)/gi,"<strong>$1</strong>"),e=e.replace(/(\b\d+d\d+\b)/g,'<a href="#">$1</a>'),e.includes("</a>")&&(t.value=!0),`<p>${e.trim()}</p>`})).join("");return Hl.A.sanitize(a)}return(e,t)=>{const a=(0,o.g2)("router-link");return(0,o.uX)(),(0,o.CE)(o.FK,null,[(0,o.bF)(ge),(0,o.Lk)("div",jl,[(0,o.Lk)("div",Ul,[(0,o.Lk)("div",Ol,[(0,o.Lk)("div",Bl,[(0,o.bF)(a,{to:`/player/${e.$md.ply.id}/spells/`,class:"text-decoration-none"},{default:(0,o.k6)((()=>t[0]||(t[0]=[(0,o.Lk)("i",{class:"bi bi-arrow-left"},null,-1),(0,o.eW)(" Back")]))),_:1},8,["to"])]),(0,o.Lk)("h1",Tl,(0,P.v_)(e.spell.name),1),(0,o.Lk)("p",Jl,(0,P.v_)(e.spell.level)+"-level "+(0,P.v_)(e.spell.school),1),t[6]||(t[6]=(0,o.Lk)("hr",null,null,-1)),(0,o.Lk)("div",Xl,[(0,o.Lk)("div",Vl,[t[1]||(t[1]=(0,o.Lk)("div",{class:"text-uppercase text-body-secondary"},"Casting Time",-1)),(0,o.Lk)("div",null,(0,P.v_)(e.spell.ctime),1)]),(0,o.Lk)("div",Rl,[t[2]||(t[2]=(0,o.Lk)("div",{class:"text-uppercase text-body-secondary"},"Range / Area",-1)),(0,o.Lk)("div",null,(0,P.v_)(e.spell.range),1)]),(0,o.Lk)("div",ql,[t[3]||(t[3]=(0,o.Lk)("div",{class:"text-uppercase text-body-secondary"},"Components",-1)),(0,o.Lk)("div",null,(0,P.v_)(e.spell.components),1)]),(0,o.Lk)("div",Wl,[t[4]||(t[4]=(0,o.Lk)("div",{class:"text-uppercase text-body-secondary"},"Duration",-1)),(0,o.Lk)("div",null,(0,P.v_)(e.spell.duration),1)]),(0,o.Lk)("div",Yl,[t[5]||(t[5]=(0,o.Lk)("div",{class:"text-uppercase text-body-secondary"},"Ritual",-1)),(0,o.Lk)("div",null,(0,P.v_)(e.spell.ritual),1)])]),(0,o.Lk)("div",{innerHTML:s(e.spell.description),class:"spell-description mt-4 text-start"},null,8,Gl)])])]),(0,o.bF)(Pa)],64)}}});const Ql=Kl;var Zl=Ql;const eo={class:"container py-3 pb-5"},to={class:"text-start my-3"},so={class:"form pb-5"},ao={key:0,class:"alert alert-danger"},lo={class:"mb-0"},oo={class:"mb-3 row align-items-center"},io={class:"col-sm-9"},ro={class:"mb-3 row align-items-center"},no={class:"col-sm-9"},co={class:"mb-3 row align-items-center"},po={class:"col-sm-9"},mo={class:"mb-3 row align-items-center"},uo={class:"col-sm-9"},ho={class:"mb-3 row align-items-center"},bo={class:"col-sm-9"},go={class:"mb-3 row align-items-center"},vo={class:"col-sm-9"},fo={class:"mb-3 row ab-scores"},yo={class:"text-center col-4 col-lg"},ko={class:"text-muted"},Lo={class:"text-center col-4 col-lg"},xo={class:"text-muted"},wo={class:"text-center col-4 col-lg"},_o={class:"text-muted"},$o={class:"text-center col-4 col-lg"},Co={class:"text-muted"},So={class:"text-center col-4 col-lg"},Po={class:"text-muted"},Eo={class:"text-center col-4 col-lg"},Ao={class:"text-muted"},Fo={class:"mb-3 row align-items-center"},Do={class:"col-sm-9"},Mo={class:"mb-3 row align-items-center"},No={class:"col-sm-9"},Io={class:"mb-3 row"},Ho={class:"col-sm-9"},jo={class:"text-center"};function Uo(e,t,s,l,i,r){const n=(0,o.g2)("router-link");return(0,o.uX)(),(0,o.CE)(o.FK,null,[t[45]||(t[45]=(0,o.Lk)("div",{class:"banner-img"},[(0,o.Lk)("div",{class:"banner"})],-1)),(0,o.Lk)("div",eo,[(0,o.Lk)("div",to,[(0,o.bF)(n,{to:"/",class:"text-decoration-none"},{default:(0,o.k6)((()=>t[16]||(t[16]=[(0,o.Lk)("i",{class:"bi bi-arrow-left"},null,-1),(0,o.eW)(" Back ")]))),_:1})]),t[43]||(t[43]=(0,o.Lk)("div",{class:"text-center pt-1"},[(0,o.Lk)("h1",{class:"mb-2 py-2 display-4 create-title"},"Create Your Character"),(0,o.Lk)("p",{class:"lead"},[(0,o.eW)(" Is it time to begin another adventure? If so, some basic details are needed to create your "),(0,o.Lk)("i",null,"level one character"),(0,o.eW)(". ")]),(0,o.Lk)("p",{class:"text-muted"},"(Don't worry, you can adjust the level within the app.)")],-1)),t[44]||(t[44]=(0,o.Lk)("hr",null,null,-1)),(0,o.Lk)("div",so,[i.errors.length?((0,o.uX)(),(0,o.CE)("div",ao,[(0,o.Lk)("ul",lo,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(i.errors,((e,t)=>((0,o.uX)(),(0,o.CE)("li",{key:t},(0,P.v_)(e),1)))),128))])])):(0,o.Q3)("",!0),t[33]||(t[33]=(0,o.Lk)("h2",{class:"text-start my-4"},"Step 1. Choose a Name, Race",-1)),(0,o.Lk)("div",oo,[t[17]||(t[17]=(0,o.Lk)("label",{for:"characterName",class:"col-sm-3 col-form-label"},"Character Name",-1)),(0,o.Lk)("div",io,[(0,o.bo)((0,o.Lk)("input",{type:"text",id:"characterName",class:"form-control","onUpdate:modelValue":t[0]||(t[0]=e=>i.character.name=e)},null,512),[[a.Jo,i.character.name]])])]),(0,o.Lk)("div",ro,[t[18]||(t[18]=(0,o.Lk)("label",{for:"race",class:"col-sm-3 col-form-label"},"Race",-1)),(0,o.Lk)("div",no,[(0,o.bo)((0,o.Lk)("input",{type:"text",id:"race",class:"form-control","onUpdate:modelValue":t[1]||(t[1]=e=>i.character.race=e)},null,512),[[a.Jo,i.character.race]])])]),t[34]||(t[34]=(0,o.Lk)("h2",{class:"text-start my-4"},"Step 2. Choose a Class",-1)),(0,o.Lk)("div",co,[t[19]||(t[19]=(0,o.Lk)("label",{for:"characterClass",class:"col-sm-3 col-form-label"},"Class",-1)),(0,o.Lk)("div",po,[(0,o.bo)((0,o.Lk)("input",{type:"text",id:"characterClass",class:"form-control","onUpdate:modelValue":t[2]||(t[2]=e=>i.character.characterClass=e)},null,512),[[a.Jo,i.character.characterClass]])])]),(0,o.Lk)("div",mo,[t[20]||(t[20]=(0,o.Lk)("label",{for:"ac",class:"col-sm-3 col-form-label"},"AC",-1)),(0,o.Lk)("div",uo,[(0,o.bo)((0,o.Lk)("input",{type:"text",id:"ac",class:"form-control","onUpdate:modelValue":t[3]||(t[3]=e=>i.character.ac=e),placeholder:"10 + dex"},null,512),[[a.Jo,i.character.ac]])])]),(0,o.Lk)("div",ho,[t[22]||(t[22]=(0,o.Lk)("label",{for:"hitDie",class:"col-sm-3 col-form-label"},"Hit Die",-1)),(0,o.Lk)("div",bo,[(0,o.bo)((0,o.Lk)("select",{id:"hitDie",class:"form-control","onUpdate:modelValue":t[4]||(t[4]=e=>i.character.hitDie=e),required:""},t[21]||(t[21]=[(0,o.Fv)('<option value="" data-v-7623b6a6>Select a hit die...</option><option value="d6" data-v-7623b6a6>d6</option><option value="d8" data-v-7623b6a6>d8</option><option value="d10" data-v-7623b6a6>d10</option><option value="d12" data-v-7623b6a6>d12</option>',5)]),512),[[a.u1,i.character.hitDie]])])]),(0,o.Lk)("div",go,[t[23]||(t[23]=(0,o.Lk)("label",{for:"proficiencyBonus",class:"col-sm-3 col-form-label"},"Proficiency Bonus",-1)),(0,o.Lk)("div",vo,[(0,o.bo)((0,o.Lk)("input",{type:"text",id:"proficiencyBonus",class:"form-control",disabled:"",readonly:"","onUpdate:modelValue":t[5]||(t[5]=e=>i.character.proficiencyBonus=e)},null,512),[[a.Jo,i.character.proficiencyBonus]])])]),t[35]||(t[35]=(0,o.Lk)("h2",{class:"text-start mt-4"},"Step 3. Determine Ability Scores",-1)),t[36]||(t[36]=(0,o.Lk)("p",{class:"mb-3 text-muted"}," Tip: Don't forget to add any racial bonuses! ",-1)),(0,o.Lk)("div",fo,[(0,o.Lk)("div",yo,[t[24]||(t[24]=(0,o.Lk)("div",{class:"text-muted"},"Strength",-1)),(0,o.bo)((0,o.Lk)("input",{type:"number",id:"strength",class:"form-control form-control-lg","onUpdate:modelValue":t[6]||(t[6]=e=>i.character.abilities.strength=e),value:"10",max:"30",min:"1"},null,512),[[a.Jo,i.character.abilities.strength,void 0,{number:!0}]]),(0,o.Lk)("div",ko,"("+(0,P.v_)(r.serAbility(i.character.abilities.strength))+")",1)]),(0,o.Lk)("div",Lo,[t[25]||(t[25]=(0,o.Lk)("div",{class:"text-muted"},"Dexterity",-1)),(0,o.bo)((0,o.Lk)("input",{type:"number",id:"dexterity",class:"form-control form-control-lg","onUpdate:modelValue":t[7]||(t[7]=e=>i.character.abilities.dexterity=e),value:"10",max:"30",min:"1"},null,512),[[a.Jo,i.character.abilities.dexterity,void 0,{number:!0}]]),(0,o.Lk)("div",xo,"("+(0,P.v_)(r.serAbility(i.character.abilities.dexterity))+")",1)]),(0,o.Lk)("div",wo,[t[26]||(t[26]=(0,o.Lk)("div",{class:"text-muted"},"Constitution",-1)),(0,o.bo)((0,o.Lk)("input",{type:"number",id:"constitution",class:"form-control form-control-lg","onUpdate:modelValue":t[8]||(t[8]=e=>i.character.abilities.constitution=e),value:"10",max:"30",min:"1"},null,512),[[a.Jo,i.character.abilities.constitution,void 0,{number:!0}]]),(0,o.Lk)("div",_o,"("+(0,P.v_)(r.serAbility(i.character.abilities.constitution))+")",1)]),(0,o.Lk)("div",$o,[t[27]||(t[27]=(0,o.Lk)("div",{class:"text-muted"},"Intelligence",-1)),(0,o.bo)((0,o.Lk)("input",{type:"number",id:"intelligence",class:"form-control form-control-lg","onUpdate:modelValue":t[9]||(t[9]=e=>i.character.abilities.intelligence=e),value:"10",max:"30",min:"1"},null,512),[[a.Jo,i.character.abilities.intelligence,void 0,{number:!0}]]),(0,o.Lk)("div",Co,"("+(0,P.v_)(r.serAbility(i.character.abilities.intelligence))+")",1)]),(0,o.Lk)("div",So,[t[28]||(t[28]=(0,o.Lk)("div",{class:"text-muted"},"Wisdom",-1)),(0,o.bo)((0,o.Lk)("input",{type:"number",id:"wisdom",class:"form-control form-control-lg","onUpdate:modelValue":t[10]||(t[10]=e=>i.character.abilities.wisdom=e),value:"10",max:"30",min:"1"},null,512),[[a.Jo,i.character.abilities.wisdom,void 0,{number:!0}]]),(0,o.Lk)("div",Po,"("+(0,P.v_)(r.serAbility(i.character.abilities.wisdom))+")",1)]),(0,o.Lk)("div",Eo,[t[29]||(t[29]=(0,o.Lk)("div",{class:"text-muted"},"Charisma",-1)),(0,o.bo)((0,o.Lk)("input",{type:"number",id:"charisma",class:"form-control form-control-lg","onUpdate:modelValue":t[11]||(t[11]=e=>i.character.abilities.charisma=e),value:"10",max:"30",min:"1"},null,512),[[a.Jo,i.character.abilities.charisma,void 0,{number:!0}]]),(0,o.Lk)("div",Ao,"("+(0,P.v_)(r.serAbility(i.character.abilities.charisma))+")",1)])]),t[37]||(t[37]=(0,o.Lk)("h2",{class:"text-start mt-4"},"Step 4. Describe Your Character",-1)),t[38]||(t[38]=(0,o.Lk)("p",{class:"mb-4 text-muted"}," Tip: Be sure to note what proficiencies your background gives you for later. ",-1)),(0,o.Lk)("div",Fo,[t[30]||(t[30]=(0,o.Lk)("label",{for:"background",class:"col-sm-3 col-form-label"},"Background",-1)),(0,o.Lk)("div",Do,[(0,o.bo)((0,o.Lk)("input",{type:"text",id:"background",class:"form-control","onUpdate:modelValue":t[12]||(t[12]=e=>i.character.background=e)},null,512),[[a.Jo,i.character.background]])])]),(0,o.Lk)("div",Mo,[t[31]||(t[31]=(0,o.Lk)("label",{for:"languages",class:"col-sm-3 col-form-label"},"Languages",-1)),(0,o.Lk)("div",No,[(0,o.bo)((0,o.Lk)("input",{type:"text",id:"languages",class:"form-control","aria-describedby":"languageHelp","onUpdate:modelValue":t[13]||(t[13]=e=>i.character.languages=e)},null,512),[[a.Jo,i.character.languages]])])]),(0,o.Lk)("div",Io,[t[32]||(t[32]=(0,o.Lk)("label",{for:"equipment",class:"col-sm-3 col-form-label"},"Equipment",-1)),(0,o.Lk)("div",Ho,[(0,o.bo)((0,o.Lk)("textarea",{id:"equipment",class:"form-control","aria-describedby":"languageHelp",rows:"4","onUpdate:modelValue":t[14]||(t[14]=e=>i.character.equipment=e)},null,512),[[a.Jo,i.character.equipment]])])]),t[39]||(t[39]=(0,o.Lk)("h2",{class:"text-start mt-4"},"Step 5. Generate Character",-1)),t[40]||(t[40]=(0,o.Lk)("p",{class:"mb-4"}," Have a look over everything you've done and make sure there isn't anything missing. Once you're ready you can proceed. ",-1)),t[41]||(t[41]=(0,o.Lk)("p",null," Just note however, you're not done yet. Once the character has been generated you'll want to then make sure to select your saving throw and skill proficiencies, write up your notes (features, tool / equipment proficiencies, etc.) and select any spells. ",-1)),t[42]||(t[42]=(0,o.Lk)("hr",null,null,-1)),(0,o.Lk)("div",jo,[(0,o.Lk)("button",{type:"button",class:"btn btn-outline-primary px-5 py-3",onClick:t[15]||(t[15]=(...e)=>r.createCharacter&&r.createCharacter(...e))}," Create Character ")])])])],64)}var Oo={name:"CharacterForm",data(){return{character:{name:"",race:"",characterClass:"",hitDie:"",proficiencyBonus:"+2",ac:"",abilities:{strength:10,dexterity:10,constitution:10,intelligence:10,wisdom:10,charisma:10},background:"",languages:"",equipment:""},errors:[]}},methods:{serAbility(e){let t=-5;for(let s=1;s<=31;s+=2){if(s>=e)return t;t++}},validateForm(){return this.errors=[],this.character.name.trim()||this.errors.push("Character Name is required."),this.character.race.trim()||this.errors.push("Race is required."),this.character.characterClass.trim()||this.errors.push("Class is required."),this.character.hitDie||this.errors.push("Hit Die selection is required."),this.character.ac||this.errors.push("AC is required."),0===this.errors.length},createCharacter(){if(!this.validateForm())return;this.serAbility(this.character.abilities.dexterity);this.character.ac||(this.character.ac="10 + dex");const e=this.$md.Dice.x(this.character.hitDie).max,t=this.serAbility(this.character.abilities.constitution),s={name:this.character.name,classData:{name:this.character.characterClass,hitdie:this.character.hitDie},lvl:1,statsData:{ability:{str:this.character.abilities.strength,dex:this.character.abilities.dexterity,cnst:this.character.abilities.constitution,int:this.character.abilities.intelligence,wis:this.character.abilities.wisdom,chr:this.character.abilities.charisma}},healthData:{maxHP:e+t,currentHP:e+t,hitdie:this.character.hitDie,defaultAC:this.character.ac,currentAC:this.character.ac}};s.statsData.misc_notes=`\n# ${s.name}\n**Race:** ${this.character.race}\n\n**Background:** ${this.character.background}\n\n## Attacks\n| Name | Hit | Damage | Properties |\n|------|-----|--------|------------|\n| Dagger | +5 | 1d4 + dex | Finesse, Light, Thrown (range 20/60) |\n\n## Proficiencies\n**Languages:** ${this.character.languages}\n\n**Tools:** \n\n**Armor:**\n\n**Weapons:**\n\n## Equipment\n${this.character.equipment}\n\n# Features\nClass features go here à¸…^â€¢ï»Œâ€¢^à¸…\n\n..\n\nThese notes use Markdown - a simple and easy way to format your text. \n\nIf you need help with syntax, use this: [Basic Syntax | Markdown Guide](https://www.markdownguide.org/basic-syntax/)\n\nHappy note taking : )\n            `.trim(),this.$md.magicHandler.managed_players=[],this.$md.Load.restoreFromObj(s),this.$md.magicHandler.last.self,this.$md.savePlayer(),this.$router.push({path:`/player/${this.$md.magicHandler.last.id}`})}}};const Bo=(0,r.A)(Oo,[["render",Uo],["__scopeId","data-v-7623b6a6"]]);var To=Bo;const Jo={class:"container"},Xo={class:"lead"},Vo={key:0,class:"alert alert-success"},Ro={class:"m-0"},qo={data(){return{spellJson:"",spellMessage:""}},created(){const e=JSON.parse(localStorage.charList)[this.$route.params.id];e&&this.$md.Load.restoreFromObj(e)},methods:{addspell(){let e;if(!this.spellJson)return!1;try{e=JSON.parse(this.spellJson.trim())}catch(s){return!1}const t=this.$md.ply.magic.addJSON(e);this.$md.savePlayer(),this.spellJson="",this.spellMessage=`Spell '${t.name}' added!`}}};var Wo=Object.assign(qo,{__name:"SpellDebug",setup(e){return(e,t)=>((0,o.uX)(),(0,o.CE)(o.FK,null,[(0,o.bF)(ge),(0,o.Lk)("div",Jo,[t[3]||(t[3]=(0,o.Lk)("div",{class:"bg-body-secondary p-3 rounded shadow my-3"},' { name = "Unkown Spell", level = "1st", school = "Spell", components = "V S", ctime = "1 Action", ritual = "no", concentration = "no", description = "No description exists for this spell.", duration = "Instantaneous", range = "10 feet", roll = "0d4", url = "https://dnd5e.fandom.com/wiki/" + name.replace(/ /g, "_"), } ',-1)),(0,o.Lk)("p",Xo,"Spells: "+(0,P.v_)(e.$md.ply.magic.spells.size),1),e.spellMessage?((0,o.uX)(),(0,o.CE)("div",Vo,[(0,o.Lk)("p",Ro,(0,P.v_)(e.spellMessage),1)])):(0,o.Q3)("",!0),(0,o.Lk)("div",null,[t[2]||(t[2]=(0,o.Lk)("label",{class:"form-label"},"Add Spell (json)",-1)),(0,o.bo)((0,o.Lk)("textarea",{class:"form-control",rows:"5","onUpdate:modelValue":t[0]||(t[0]=t=>e.spellJson=t)},null,512),[[a.Jo,e.spellJson]]),(0,o.Lk)("button",{type:"button",class:"btn btn-outline-primary btn-sm mt-2 px-3",onClick:t[1]||(t[1]=(...t)=>e.addspell&&e.addspell(...t))},"Add")])])],64))}});const Yo=Wo;var Go=Yo;const zo=[{path:"/",name:"home",component:f},{path:"/load",name:"load",component:X},{path:"/create",name:"create",component:To},{path:"/player/:id",name:"player",component:Ha},{path:"/player/:id/notes",name:"notebook",component:Za},{path:"/player/:id/spells",name:"spellbook",component:Il},{path:"/player/:id/spell/:spell",name:"spell",component:Zl},{path:"/player/:id/spells/debug",name:"spell debug",component:Go}],Ko=(0,p.aE)({history:(0,p.Bt)(),routes:zo,scrollBehavior(e,t,s){return{top:0}}});var Qo=Ko,Zo=(s(8077),s(8237),s(8490)),ei=s(8792);const ti=(0,Zo.v)(ei.Q),si=(()=>{function e(e){let t={};for(let[s,a]of e)t[s]=a;return t}function t(e){let t=new Map;for(let s of Object.keys(e))t.set(s,e[s]);return t}class s{constructor(e={}){const{name:t="Fighter",url:s="https://roll20.net/compendium/dnd5e/"+t,misc:a={},hitdie:l="d10",spcMod:o,start_prof:i={wpn:[],tool:[],armr:[]},save_throws:r=["str","cnst"]}=e;this.name=t,this.misc=a,this.url=s,this.start_prof=i,this.spcMod=o,this.save_throws=r,this.hitdie=l}get wiki(){window.open(this.url)}}const a=[],l=(()=>{class e{constructor(t="d20"){this.string=t.toLowerCase(),this.list=[],this.stats=e.cvt(t.toLowerCase()),this.roll()}static cvt(e){e=e.toLowerCase();let t={};if(e.includes("->")&&(t.foreach_modifier=parseInt(e.split("->")[1])),e=e.split("d"),t.iterator=""!=e[0]?parseInt(e[0]):1,t.face=parseInt(e[1]),isNaN(t.iterator)||isNaN(t.face))throw Error("Invalid dice roll!");return t}serialise(){return`${this.stats.iterator}d${this.stats.face}${this.stats.foreach_modifier?"->"+this.stats.foreach_modifier:""}`}roll(){let e;this.list=[];for(let t=0;t<this.stats.iterator;t++)e=Math.floor(Math.random()*this.stats.face)+1,this.stats.foreach_modifier&&(e+=this.stats.foreach_modifier),this.list.push(e);return this.total}addDice(e){return this.stats.iterator+=e,this.string=this.serialise(this.stats),this.roll(),this}reRoll(e){const t=this.list.indexOf(e);return-1!=t&&(this.list[t]=Math.floor(Math.random()*this.stats.face)+1,this.list[t])}get total(){return this.stats.iterator<=0?0:this.list.reduce(((e,t)=>e+t))}get max(){return this.stats.face*this.stats.iterator}}class t{constructor(e="d20",t={}){const{x:s=document.body.clientWidth/2-225,y:a=150}=t;this.pos={x:s,y:a},this.dice=e.toLowerCase(),this.roll()}generateList(){const t=/\d*d\d+(?:->-*\d+)*/g,s=[];let a;do{a=t.exec(this.dice),a&&s.push(new e(a[0]))}while(a);this.list=s}get verboseList(){const e=[];return this.list.forEach((t=>{t.list.forEach((t=>{e.push(t)}))})),e}get max(){let e=this.dice;this.list.forEach((t=>{e=e.replace(t.string,t.max)}));const t=/(?:(?:^|[-+_*/])(?:\s*-?\d+(\.\d+)?(?:[eE][+-]?\d+)?\s*))+$/;if(t.test(this.compText))return ti.evaluate(e)}get compText(){let e=this.dice;return this.list.forEach((t=>{e=e.replace(t.string,t.total)})),e}get total(){return ti.evaluate(this.compText)}roll(){try{if(o.managed_players.length>0){for(let[e,t]of Object.entries(o.last.stats.ability_mod))this.dice=this.dice.replaceAll(e,t);this.dice=this.dice.replaceAll("prof",o.last.stats.prof)}return this.generateList(),this.total}catch(e){return console.error(`Something went wrong while rolling the dice! (${e})`)}}show(){this.list.forEach((e=>{console.log(`Dice Roll (${e.string})`),e.stats.foreach_modifier&&console.log("Modifier (+"+e.stats.foreach_modifier+")"),e.list.forEach(((e,t)=>{console.log(`Roll ${t+1}: ${e}`)}))})),console.log(`Total = ${this.compText}`),console.log("Total roll: "+this.total)}render(){console.log("render")}static r(e,s=!1){return t.x(e,s).total}static x(e,s=!1){try{const l=new t(e);return s||(a.push(l),l.show()),l}catch(l){console.error(l)}}static cvt(t){return e.cvt(t)}static diceObj(t){return new e(t)}static gfx_dice(e,s,a){try{const l=new t(e,{x:s,y:a});return l.render()}catch(l){return console.error(`Something went wrong while rolling the dice! (${l})`)}}}return t})(),o=(()=>{class e{constructor(){this.managed_players=[]}get last(){if(this.managed_players.length>0)return this.managed_players[this.managed_players.length-1]}get ply(){return 0==this.managed_players.length?console.log("Currently no characters are loaded! You can load from a save file using the command 'Load.restoreFromFile()'"):1==this.managed_players.length?this.managed_players[0]:this.managed_players}randomPlayer(e=`NPC ${this.managed_players.length}`,t=3){let s=Array.from(Library.player_classes);s=s[Math.floor(Math.random()*s.length)][1],this.managed_players.push(new d({name:e,lvl:t,classData:s}))}loadPlayer(t){try{this.managed_players=[],this.managed_players.push(t);const s=new CustomEvent("char-loaded",{detail:e.last});document.getElementById("out-wrap").dispatchEvent(s)}catch(s){}}}return new e})(),i=(()=>{function e(e){var t=["th","st","nd","rd"],s=e%100;return 0!=e?e+(t[(s-20)%10]||t[s]||t[0]):"Cantrip"}class t{constructor(t={}){const{name:s="Unkown Spell",level:a="1st",school:l="Spell",components:o="V S",ctime:i="1 Action",ritual:r="no",concentration:n="no",description:c="No description exists for this spell.",duration:d="Instantaneous",range:p="10 feet",roll:m="0d4",url:u="https://dnd5e.fandom.com/wiki/"+s.replace(/ /g,"_")}=t;this.name=s,isNaN(a)?this.level=a:this.level=e(a),this.ctime=i,this.ritual=r,this.concentration=n,this.school=l,this.description=c,this.components="string"!=typeof o?o.join(" "):o,isNaN(d)?this.duration=d:this.duration=0!==d?d+" minutes":"Instantaneous",isNaN(p)?this.range=p:this.range=p+" feet",this.roll=m,this.url=u}get intLvl(){return isNaN(Number(this.level[0]))?0:Number(this.level[0])}cast(e){let t=this.roll;const s=new l(t);return e>this.intLvl&&s.addDice(e-this.intLvl),s.show()}get wiki(){window.open(this.url)}get id(){return this.name.toLowerCase().replace(/[^a-z0-9 ]/g,"").trim().replace(/\s+/g,"-")}get x(){console.log("\n"+this.name.toUpperCase()),console.log(this.level+"-level "+this.school),console.log("Casting Time: "+this.ctime),console.log("Range: "+this.range),console.log("Components: "+this.components),console.log("Duration: "+this.duration),console.log(`Roll: ${this.roll}`),console.log(`${this.description}`)}}return t})();class r{constructor(e={}){const{name:t="Unkown Item",cost:s=0,dmg:a="",dmgType:l="",range:o=10,desc:i="No description exists for this item",weight:r=1,qnty:n=1,properties:c=[],singleUse:d=!1}=e;this.name=t,this.cost=s,this.dmgType=l,this.desc=i,this.range=o,this.dmg=a,this.weight=r,this.properties=c,this.singleUse=d,this.qnty=n}get tWeight(){return this.weight*this.qnty}}class n{constructor(t){this.name=t.name,this.classData=t.player_class,this.lvl=t.lvl,this.inspiration=t.inspiration,this.quick_rolls=t.quick_rolls,this.theme=t.theme,this.statsData={save_throws:t.stats.save_throws,ability:t.stats.ability,inspiration:t.stats.inspiration,misc_prof:t.stats.misc_prof,misc_notes:t.stats.misc_notes,skill_modifiers:t.stats.skill_modifiers,initiative:t.stats.initiative,passive_perception_mod:t.stats.passive_perception_mod,speed:t.stats.speed},this.healthData={maxHP:t.health.maxHP,currentHP:t.health.currentHP,defaultAC:t.health.defaultAC,currentAC:t.health.currentAC,hitdie:t.health.hitdie},this.exp=t.exp,this.magicData={spells:e(t.magic.spells),spcMod:t.magic.spcMod,preparedSpells:t.magic.preparedSpells},this.invData={gold:t.inv.gold,backpack:e(t.inv.backpack)},this.renderData={avatar:t.render.avatar,banner:t.render.banner}}}const c=(()=>{const e={deSer:function(e){let t=e;if(t.magicData)for(var s in t.magicData.spells)if(t.magicData.spells.hasOwnProperty(s)){var a=t.magicData.spells[s];t.magicData.spells[s]=new i(a)}if(t.invData)for(var s in t.invData.backpack)if(t.invData.backpack.hasOwnProperty(s)){var l=t.invData.backpack[s];t.invData.backpack[s]=new r(l)}return new d(t)},deleteCharacter:function(e){try{let t=JSON.parse(localStorage.charList);delete t[e],localStorage.charList=JSON.stringify(t),console.log(`${e} is gone, bye bye`)}catch(t){console.log(t)}},restoreFromObj:function(e){try{o.managed_players.push(this.deSer(e)),e.theme&&"default"!==e.theme?document.documentElement.setAttribute("data-theme",e.theme):document.documentElement.removeAttribute("data-theme"),console.log("You can now access this character by simply typing 'ply' into this console.")}catch(t){console.log(t)}},restore:function(e){const t=JSON.parse(localStorage.getItem("charList"));if(!e||!t[e])return console.log("Invalid identifier specified!"),!1;o.loadPlayer(this.deSer(t[e])),console.log("You can now access this character by simply typing 'ply' into this console.")},ls:function(){if(console.log("---LIST OF CHARACTERS---"),localStorage.getItem("charList")){var e=JSON.parse(localStorage.getItem("charList"));let t=0;for(property in e)console.log("["+t+++"] "+property)}else console.log("No characters saved!")},restoreFromFile:function(){document.getElementById("main").innerHTML='\n                <div class="menu-generic">\n                    <div class="upload-btn-wrapper">\n                        <div class="upload-header">Upload a File</div>\n                        <span class="upload-caption">Drag or Select a character .json file</span>\n                        <input type="file" id="upload" name="file">\n                    </div>\n                </div>\n            ',document.getElementById("upload").addEventListener("change",(e=>{const t=e.target.files[0],s=new FileReader;s.readAsText(t,"UTF-8"),s.onload=e=>{o.managed_players.push(this.deSer(JSON.parse(e.target.result))),console.log("File has been processed!"),console.log("You can now access this character by simply typing 'ply' into this console.");const t=new CustomEvent("char-loaded",{detail:o.last});document.getElementById("out-wrap").dispatchEvent(t)}}))}};return e})(),d=(()=>{function e(e){return e>=80?"limegreen":e>=65?"green":e>45?"orange":e>15?"orangered":"red"}function a(e){var t,s=e,l={str:8,dex:8,cnst:8,int:8,wis:8,chr:8};for(var o in l)l.hasOwnProperty(o)&&(t=e<=9?e:Math.floor(10*Math.random()),l[o]+=t,e-=t);return!e<=0&&(l=a(s)),l}function o(e){for(var t=-5,s=1;s<=31;s+=2){if(s>=e)return t;t++}}function d(e){for(var t=2,s=4;s<=21;s+=4){if(s>=e)return t;t++}}class p{constructor(e={}){const{parent:s,spells:a={},preparedSpells:l=[]}=e;this.spells=t(a),this.parent=s,this.preparedSpells=l}get spcMod(){return this.parent.player_class.spcMod}get DC(){return 8+this.parent.stats.prof+this.parent.stats.ability_mod[this.spcMod]}get SPAttack(){return this.parent.stats.ability_mod[this.spcMod]+this.parent.stats.prof}get Mod(){return this.parent.stats.ability_mod[this.spcMod]}addFromPrompt(){const e=new i(JSON.parse(prompt("Please enter the object string.")));return this.spells.set(e.name,e),this.sort(),e.x,console.log("%cNew Spell Added!","color: limegreen")}add(e){return"object"==typeof e&&(this.spells.set(e.name,e),this.sort(),e.x,console.log("%cNew Spell Added!","color: limegreen"))}addJSON(e){const t=new i(e);return this.spells.set(t.name,t),this.sort(),t.x,t}sort(){const e=Array.from(this.spells);e.sort(((e,t)=>e[1].intLvl-t[1].intLvl)),this.spells=new Map(e)}qCast(e){return e&&this.spells.get(e)?this.spells.get(e).cast():void console.log("You didn't specify a valid spell")}prepare_remove(e){if(!e&&-1==this.preparedSpells.indexOf(e.name))throw new Error("You didn't specify a valid spell");const t=this.preparedSpells.indexOf(e.name);return this.preparedSpells.splice(t,1)}prepare(e){try{if(!e)throw new Error("You didn't specify a valid spell");if(this.preparedSpells.indexOf(e.name)>-1)throw new Error("You already prepared this spell!");const t=this.Mod+this.parent.lvl;if(t>this.preparedSpells.length)return this.preparedSpells.push(e.name),console.log(`'${e.name}' has been prepared successfuly! (${this.preparedSpells.length} / ${t})`),!0;throw new Error("You can't prepare any more spells!")}catch(t){MagicUI.alert(t,{type:"error"})}}list(e={}){const{name:t,lvl:s}=e;e.name&&(e.name=e.name.toLowerCase()),console.log("\nSPELL RESULTS: "),this.spells.forEach((t=>{const s=t.name.toLowerCase();if((void 0==e.lvl||e.lvl==t.intLvl)&&(s.includes(e.name)||!e.name)){let e="auto";-1!=this.preparedSpells.indexOf(t.name)&&(e="#c451d8"),console.log("- %c"+t.name+" %c("+t.level+" Level)","color: "+e,"color: #03a9f4")}}))}}class m{constructor(e={}){const{gold:s=Math.floor(100*Math.random())+1,backpack:a={}}=e;this.gold=s,this.backpack=t(a)}add(e,t){return t||(t=!1),e===String(e)&&(e=new r({name:String(e),singleUse:t})),this.backpack.get(e.name)?this.backpack.get(e.name).qnty+=e.qnty:this.backpack.set(e.name,e),console.log("Added "+e.qnty+" '"+e.name+"' to backpack!"),this.backpack.get(e.name)}get total_weight(){var e=0;return this.backpack.forEach((t=>{for(var s=0;s<t.qnty;s++)e+=t.weight})),e}list(e){e&&(e=e.toLowerCase());var t=[];if(console.log("\nINVENTORY RESULTS: "),this.backpack.forEach((s=>{var a=s.name.toLowerCase();!a.includes(e)&&e||(console.log("- "+s.name+(1!=s.qnty?" x"+s.qnty:"")),t.push(s))})),t.length<=5)return 1==t.length?t[0]:t}use(e){if(!this.backpack.get(e))return console.log(`You don't have a ${e}!`),!1;if(this.backpack.get(e).dmg){console.log("You use the "+this.backpack.get(e).name+" (Rolling "+this.backpack.get(e).dmg+")!");var t=l.r(this.backpack.get(e).dmg)}return this.backpack.get(e).singleUse&&(this.backpack.get(e).qnty-=1,console.log("After you use the object, what remains becomes useless to you. ("+this.backpack.get(e).qnty+" Remaining)"),this.backpack.get(e).qnty<=0&&this.backpack.delete(e)),t}drop(e){if(!this.backpack.get(e))return console.log(`You don't have a ${e}!`),!1;this.backpack.get(e).qnty-=1,console.log("You drop your '"+this.backpack.get(e).name+"' ("+this.backpack.get(e).qnty+" Remaining)"),this.backpack.get(e).qnty<=0&&this.backpack.delete(e)}}class u{constructor(e={}){const{avatar:t="",banner:s={url:"",position:"center"}}=e;this.avatar=t,this.banner=s}}class h{constructor(e={}){const{parent:t,hitdie:s=t.lvl+t.player_class.hitdie,maxHP:a=new l(`${new l(t.player_class.hitdie).max} + ${t.lvl-1+t.player_class.hitdie}->${t.stats.ability_mod.cnst}`).total,currentHP:o=a,defaultAC:i="10 + dex",currentAC:r=i}=e;this.maxHP=a,this.currentHP=o,this.defaultAC=i,this.currentAC=r,this.hitdie=s,this.parent=t}add(t){this.currentHP=Number(this.currentHP),this.maxHP=Number(this.maxHP),this.currentHP+=Number(t),this.currentHP>this.maxHP&&(this.currentHP=this.maxHP);var s=t<0?"Damaged":"Healed";return console.log(s+" by "+t+" points! %c(HP: "+this.currentHP+" / "+this.maxHP+")","color:"+e(this.currentHP/this.maxHP*100)),this.currentHP}useHitDie(e){let t=this.parent.stats?this.parent.stats.ability_mod.cnst:0;const s=l.diceObj(`${this.hitdie}->${t}`);if(e>s.stats.iterator)return console.log("You don't have enough hit die!"),void MagicUI.alert("You don't have enough hit die!",{type:"error"});if(this.maxHP==this.currentHP)return console.log("You already have max health!"),void MagicUI.alert("You already have max health!",{type:"error"});s.addDice(-1*e);const a=die.x(`${e}d${s.stats.face}->${t}`).total;return this.add(a),this.hitdie=`${s.stats.iterator}d${s.stats.face}`,console.log(this.hitdie+" remaining"),MagicUI.alert(this.hitdie+" remaining",{type:"alert"}),a}}class b{constructor(e={}){const{parent:t,save_throws:s=[],new_save_throws:l={str:{name:"Strength",raw:"str",proficent:!1},dex:{name:"Dexterity",raw:"dex",proficent:!1},cnst:{name:"Constitution",raw:"cnst",proficent:!1},int:{name:"Intelligence",raw:"int",proficent:!1},wis:{name:"Wisdom",raw:"wis",proficent:!1},chr:{name:"Charisma",raw:"chr",proficent:!1}},marks:o=[],expert:i=[],ability:r=a(27),inspiration:n="",speed:c=30,misc_prof:d={lang:["Common"],wpn:t.player_class.start_prof.wpn,tool:t.player_class.start_prof.tool,armr:t.player_class.start_prof.armr},misc_notes:p="",initiative:m="dex",passive_perception_mod:u="",skill_modifiers:h={acrobatics:{name:"Acrobatics",raw:"dex",expert:!1,proficent:!1},animal_handling:{name:"Animal Handling",raw:"wis",expert:!1,proficent:!1},arcana:{name:"Arcana",raw:"int",expert:!1,proficent:!1},athletics:{name:"Athletics",raw:"str",expert:!1,proficent:!1},deception:{name:"Deception",raw:"chr",expert:!1,proficent:!1},history:{name:"History",raw:"int",expert:!1,proficent:!1},insight:{name:"Insight",raw:"wis",expert:!1,proficent:!1},intimidation:{name:"Intimidation",raw:"chr",expert:!1,proficent:!1},investigation:{name:"Investigation",raw:"int",expert:!1,proficent:!1},medicine:{name:"Medicine",raw:"wis",expert:!1,proficent:!1},nature:{name:"Nature",raw:"int",expert:!1,proficent:!1},perception:{name:"Perception",raw:"wis",expert:!1,proficent:!1},performance:{name:"Performance",raw:"chr",expert:!1,proficent:!1},persuasion:{name:"Persuasion",raw:"chr",expert:!1,proficent:!1},religon:{name:"Religon",raw:"int",expert:!1,proficent:!1},sleight_of_hand:{name:"Sleight of Hand",raw:"dex",expert:!1,proficent:!1},stealth:{name:"Stealth",raw:"dex",expert:!1,proficent:!1},survival:{name:"Survival",raw:"wis",expert:!1,proficent:!1}}}=e;this.parent=t,this.save_throws=s,this.new_save_throws=l,this.marks=o,this.expert=i,this.ability=r,this.inspiration=n,this.misc_prof=d,this.misc_notes=p,this.speed=c,this.skill_modifiers=h,this.initiative=m,this.passive_perception_mod=u}get prof(){return d(this.parent.lvl)}get passive_perception(){return 10+this.skills.perception}get ability_mod(){const e={str:o(this.ability.str),dex:o(this.ability.dex),cnst:o(this.ability.cnst),int:o(this.ability.int),wis:o(this.ability.wis),chr:o(this.ability.chr)};return e}get skills(){const e={};for(var t in this.skill_modifiers)if(this.skill_modifiers.hasOwnProperty(t)){if((this.marks.length>0||this.expert.length>0)&&this.marks.includes(t)){this.skill_modifiers[t].proficent=!0;const e=this.marks.indexOf(t);if(this.marks.splice(e,1),this.expert.includes(t)){this.skill_modifiers[t].expert=!0;const e=this.expert.indexOf(t);this.expert.splice(e,1)}}e[t]=this.ability_mod[this.skill_modifiers[t].raw],this.skill_modifiers[t].proficent&&(e[t]+=this.prof),this.skill_modifiers[t].expert&&this.skill_modifiers[t].proficent&&(e[t]+=this.prof)}return e}list_skills(){if(console.log("\nSkill Scores: "),0!==Object.keys(this.skills).length||this.skills.constructor!==Object)for(var e in this.skills)if(this.skills.hasOwnProperty(e)){var t=this.skills[e],s="auto";this.skill_modifiers[e].expert?s="#9c27b0":this.skill_modifiers[e].proficent&&(s="#00bcd4"),console.log("%c"+e+": "+t,"color:"+s)}}list_sthrows(){if(console.log("\nSaving Throws:"),0!==Object.keys(this.ability_mod).length||this.ability_mod.constructor!==Object)for(var e in this.ability_mod)if(this.ability_mod.hasOwnProperty(e)){var t=this.ability_mod[e],s="auto";this.save_throws.includes(e)&&(s="#00bcd4",t+=this.prof),console.log("%c"+e+": "+t,"color:"+s)}}makeProficent(e){return e=e.toLowerCase(),this.skill_modifiers[e]?(this.skill_modifiers[e].proficent?(this.skill_modifiers[e].proficent=!1,this.skill_modifiers[e].expert&&(this.skill_modifiers[e].expert=!1),console.log(`${this.skill_modifiers[e].name} is now no longer proficent!`)):(this.skill_modifiers[e].proficent=!0,console.log(`${this.skill_modifiers[e].name} is now proficent!`)),this.skills[e]):void console.log("You didn't input a valid skill!")}expertCheck(e){return e=e.toLowerCase(),this.skill_modifiers[e]?(this.skill_modifiers[e].proficent||(this.skill_modifiers[e].proficent=!0),this.skill_modifiers[e].expert?(this.skill_modifiers[e].expert=!1,console.log(`You are now no longer an expert at ${this.skill_modifiers[e].name}!`)):(this.skill_modifiers[e].expert=!0,console.log(`You are now an expert at ${this.skill_modifiers[e].name}! (Need to be proficent for this to apply)`)),this.skills[e]):void console.log("You didn't input a valid skill!")}get sthrows(){const e=new Map;if(0!==Object.keys(this.ability_mod).length||this.ability_mod.constructor!==Object)for(var t in this.ability_mod)if(this.ability_mod.hasOwnProperty(t)){let s=this.ability_mod[t];this.save_throws.includes(t)&&(s+=this.prof),this.new_save_throws[t].custom&&(isNaN(this.new_save_throws[t].custom)||(s+=this.new_save_throws[t].custom)),e.set(t,s)}return e}roll_sthrow(e){e=e.toLowerCase();for(var t=l.r("d20",!0),s=this.ability_mod[e],a=0;a<this.save_throws.length;a++)this.save_throws[a]==e&&(s+=this.prof);return console.log("Roll: "+t+", Modifier: "+s+", Total Roll: "+(t+s)),t+s}}class g{constructor(e={}){const{name:t="John Doe",classData:a={},lvl:l=1,healthData:o={},exp:i=0,magicData:r={},statsData:n={},invData:c={},renderData:d={},quick_rolls:g=[],theme:v="default"}=e;n.parent=this,o.parent=this,r.parent=this,d.parent=this,this.name=t,this.player_class=new s(a),this.lvl=Number(l),this.stats=new b(n),this.health=new h(o),this.exp=i,this.magic=new p(r),this.inv=new m(c),this.render=new u(d),this.quick_rolls=g,this.theme=v}d20(){return l.r("d20",!0)}get id(){return this.name.toLowerCase().replace(/\s/g,"-")}setLevel(e){this.lvl=e,this.longrest()}longrest(){this.health.currentHP=this.health.maxHP,console.log("[LONG REST] Reset to max HP (HP: "+this.health.maxHP+")"),this.health.currentAC=this.health.defaultAC,console.log("[LONG REST] Assuming any previous temp AC has been reset. (AC: "+this.health.currentAC+")");const e=die.cvt(this.health.hitdie);e.iterator=e.iterator+this.lvl/2>=this.lvl?this.lvl:e.iterator+Math.round(this.lvl/2),this.health.hitdie=`${e.iterator}d${e.face}`,console.log("[LONG REST] You also regain spent Hit Dice, up to a number of dice equal to half of your total number of dice  ("+this.health.hitdie+")"),console.log("%cYou awaken feeling well rested!","font-style: italic")}get self(){console.log("\n%c"+this.name.toUpperCase(),"font-family: Georgia, serif; font-size: 16px;"),console.log("Level "+this.lvl+" "+this.player_class.name),console.log("Proficiency Bonus: "+this.stats.prof);const t=(this.health.currentHP/this.health.maxHP*100).toFixed(1);console.log("HP: %c"+this.health.currentHP+"/"+this.health.maxHP+" ("+t+"%)","color: "+e(t)),console.log("AC: "+this.health.currentAC),console.log("Gold: "+this.inv.gold+" GP");const s=this.inv.backpack.size;console.log("Inventory: "+(s||"No")+" Items"),this.magic.spcMod&&(console.log("\nMagic Stats:"),console.log("Spell Modifier: "+this.magic.Mod+" | Spell Save DC: "+this.magic.DC+" | Spell Attack Bonus: "+this.magic.SPAttack)),console.log("\nAbility Scores: ");const a=this.stats.ability_mod;console.log("STR: "+a.str+" | DEX: "+a.dex+" | CNST: "+a.cnst+" | INT: "+a.int+" | WIS: "+a.wis+" | CHR: "+a.chr)}save(e){if("undefined"!==typeof Storage){if(e&&"charList"!=e||(e=this.name),localStorage["charList"])var t=JSON.parse(localStorage["charList"]);else t={};return t[e]=new n(this),localStorage["charList"]=JSON.stringify(t),console.log("Saved as '"+e+"'"),MagicUI.alert(`Saved as '${e}'!`),!0}}reload(){var e=new n(this);return console.log("Character reloaded successfuly!"),c.deSer(e)}saveToFile(e){e||(e=this.name),console.log("[WARNING] This will not save to HTML5 Local Storage, this will save externally only!");var t="data:text/json;charset=utf-8,"+encodeURIComponent(JSON.stringify(new n(this))),s=document.createElement("a");s.setAttribute("href",t),s.setAttribute("download",e+".json"),s.click(),s.remove()}parse(e){return e?l.x(e,!0).total:0}}return g})();function p(e=o.last){if("undefined"!==typeof Storage){const t=e.id;let s={};localStorage["charList"]&&(s=JSON.parse(localStorage["charList"])),s[t]=new n(e),localStorage["charList"]=JSON.stringify(s),console.log("Saved as '"+t+"'")}else console.log("Save Error")}function m(e){if("undefined"!==typeof Storage){const t=e.name.toLowerCase().replace(/\s/g,"-");let s={};localStorage["charList"]&&(s=JSON.parse(localStorage["charList"])),s[t]=e,localStorage["charList"]=JSON.stringify(s),console.log("Saved as '"+t+"'")}else console.log("Save Error")}return{Dice:l,diceHistory:[],magicHandler:o,Load:c,savePlayer:p,savePlayerLocalStorage:m,Player:d,get ply(){return o.last}}})();console.log("%cMagic Dice","font-size: 30px; color: #c51b1b; text-shadow: 1px 1px black; font-family: Georgia, serif;"),console.log("%cA character manager built for Dungeons & Dragons 5e","font-size: 14px; font-style: italic; font-weight: bold; font-family: 'Trebuchet MS', Helvetica, sans-serif;padding: 5px;");const ai=(0,a.Ef)(d);ai.use(Qo);const li=(0,l.Kh)(si);ai.config.globalProperties.$md=li,ai.mount("#app")},1914:function(e,t,s){"use strict";e.exports=s.p+"img/MagicLogo.717462a2.png"},2118:function(e,t,s){"use strict";e.exports=s.p+"img/tavern.5bbf7fcb.png"},2561:function(e,t,s){"use strict";e.exports=s.p+"img/doragi-2.781fe4b6.jpg"},2918:function(e,t,s){"use strict";e.exports=s.p+"img/mdtwicelogo.bf672fcf.png"},3112:function(e,t,s){"use strict";e.exports=s.p+"img/4.9295bae0.jpg"},4037:function(e,t,s){"use strict";e.exports=s.p+"img/cyberpunk_3.000aa8eb.png"},4089:function(e,t,s){"use strict";e.exports=s.p+"img/Magic Dice Logo-Banner-Transparent.881fb032.png"},4419:function(e,t,s){"use strict";e.exports=s.p+"img/Magic Dice Logo-Title-Transparent.8166811e.png"},4664:function(e,t,s){"use strict";e.exports=s.p+"img/Magic_Dice_Logo_1.45.c6c9363f.png"},5237:function(e,t,s){"use strict";e.exports=s.p+"img/vex_fullbody2.cdde66cd.jpg"},5497:function(e,t,s){"use strict";e.exports=s.p+"img/elfmagic.2c06be83.jpeg"},5631:function(e,t,s){"use strict";e.exports=s.p+"img/Magic Dice Logo-Full-Black.17b2d69f.png"},5864:function(e,t,s){"use strict";e.exports=s.p+"img/Magic Dice Logo-Full-Transparent.41ec6be0.png"},6463:function(e,t,s){"use strict";e.exports=s.p+"img/1Z6lapAA.de25ce5f.jpeg"},7077:function(e,t,s){"use strict";e.exports=s.p+"img/5.ecac941e.jpg"},7459:function(e,t,s){"use strict";e.exports=s.p+"media/bg.8132a30f.mp4"},7597:function(e,t,s){"use strict";e.exports=s.p+"img/e45f4a3274db844be192cd1ef0105a0c.ab7a0e0c.jpg"},7649:function(e,t,s){"use strict";e.exports=s.p+"img/Magic-Dice-Logo-Banner-Transparent.0224868a.png"},7678:function(e,t,s){"use strict";e.exports=s.p+"img/cyberpunk_4.da57bd28.jpg"},7829:function(e,t,s){"use strict";e.exports=s.p+"img/cyberpunk-dice.26695a12.png"},9337:function(e,t,s){"use strict";e.exports=s.p+"img/1.bb9fcdd0.jpg"},9721:function(e,t,s){"use strict";e.exports=s.p+"img/monsters.1d4e43d8.jpg"},9742:function(e,t,s){"use strict";e.exports=s.p+"img/2.9d23f519.jpg"}},t={};function s(a){var l=t[a];if(void 0!==l)return l.exports;var o=t[a]={id:a,loaded:!1,exports:{}};return e[a].call(o.exports,o,o.exports,s),o.loaded=!0,o.exports}s.m=e,function(){s.amdD=function(){throw new Error("define cannot be used indirect")}}(),function(){s.amdO={}}(),function(){var e=[];s.O=function(t,a,l,o){if(!a){var i=1/0;for(d=0;d<e.length;d++){a=e[d][0],l=e[d][1],o=e[d][2];for(var r=!0,n=0;n<a.length;n++)(!1&o||i>=o)&&Object.keys(s.O).every((function(e){return s.O[e](a[n])}))?a.splice(n--,1):(r=!1,o<i&&(i=o));if(r){e.splice(d--,1);var c=l();void 0!==c&&(t=c)}}return t}o=o||0;for(var d=e.length;d>0&&e[d-1][2]>o;d--)e[d]=e[d-1];e[d]=[a,l,o]}}(),function(){s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,{a:t}),t}}(),function(){s.d=function(e,t){for(var a in t)s.o(t,a)&&!s.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})}}(),function(){s.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){s.nmd=function(e){return e.paths=[],e.children||(e.children=[]),e}}(),function(){s.p="/magictwice/"}(),function(){var e={524:0};s.O.j=function(t){return 0===e[t]};var t=function(t,a){var l,o,i=a[0],r=a[1],n=a[2],c=0;if(i.some((function(t){return 0!==e[t]}))){for(l in r)s.o(r,l)&&(s.m[l]=r[l]);if(n)var d=n(s)}for(t&&t(a);c<i.length;c++)o=i[c],s.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return s.O(d)},a=self["webpackChunkmagictwice"]=self["webpackChunkmagictwice"]||[];a.forEach(t.bind(null,0)),a.push=t.bind(null,a.push.bind(a))}();var a=s.O(void 0,[504],(function(){return s(1788)}));a=s.O(a)})();
//# sourceMappingURL=app.2ca6e79a.js.map